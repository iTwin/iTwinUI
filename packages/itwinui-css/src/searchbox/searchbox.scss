// Copyright (c) Bentley Systems, Incorporated. All rights reserved.
// See LICENSE.md in the project root for license terms and full copyright notice.

@use '../utils/icon' as *;
@use 'sass:map';

.iui-expandable-searchbox {
  // button icon size + 2 * button padding + 2 * border width
  // inline-size: calc(#{map.get($icon-sizes, m)} + 2 * var(--iui-size-m) + 2 * 1px);
  inline-size: var(--_iui-input-min-height);
  transition: width var(--iui-duration-1) ease-in-out;

  &:has(.iui-searchbox-open-button:focus-visible) {
    outline: 2px solid var(--_iui-input-accent-border-color);
    outline-offset: -2px;
  }

  @supports not selector(:has(+ *)) {
    &:where(.iui-searchbox-open-button:focus-visible) {
      outline: 2px solid var(--_iui-input-accent-border-color);
      outline-offset: -2px;
    }
  }

  // Expanded
  &:where([data-iui-expanded='true']) {
    inline-size: 100%;
    border-color: var(--_iui-input-border-color);
    padding-inline-start: 0; // To prevent layout shift when toggling between collapsed and expanded states
  }

  // Collapsed
  &:where(:not([data-iui-expanded='true'])) {
    padding-inline: 0; // To center iui-searchbox-open-button inline in collapsed state
  }
}

// .iui-searchbox-open-button {
//   padding-inline: var(--iui-size-m); // To prevent the borderless button from becoming a square
// }

// noop https://github.com/iTwin/iTwinUI/pull/1881#discussion_r1506166537
/* stylelint-disable-next-line block-no-empty */
.iui-search-icon {
}
/* stylelint-disable-next-line block-no-empty */
.iui-search-input {
}
