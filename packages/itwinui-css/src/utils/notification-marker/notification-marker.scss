// Copyright (c) Bentley Systems, Incorporated. All rights reserved.
// See LICENSE.md in the project root for license terms and full copyright notice.

$iui-notification-marker-border-width: var(--iui-size-3xs);

@mixin iui-notification-marker($status: primary) {
  position: relative;

  // &::before {
  //   content: '';
  //   position: absolute;
  //   width: calc(var(--iui-size-xs) + $iui-notification-marker-border-width * 2);
  //   height: calc(var(--iui-size-xs) + $iui-notification-marker-border-width * 2);
  //   // width: 20px;
  //   // height: 20px;
  //   top: calc(var(--iui-size-s) * -0.5);
  //   right: calc(var(--iui-size-s) * -0.5);
  //   border-radius: 100%;
  //   background-color: var(--iui-color-foreground-#{$status});
  //   // border: $iui-notification-marker-border-width solid var(--iui-color-background-1);
  //   @media (prefers-reduced-motion: no-preference) {
  //     transition: background-color var(--iui-duration-1) ease-out, border-color var(--iui-duration-1) ease-out;
  //   }
  // }

  &.iui-urgent::before {
    @media (prefers-reduced-motion: no-preference) {
      animation: pulse-#{$status} 2s infinite;
    }
  }

  @media (prefers-reduced-motion: no-preference) {
    @keyframes pulse-#{$status} {
      0% {
        box-shadow: 0 0 0 0 var(--iui-color-foreground-#{$status});
      }

      70% {
        box-shadow: 0 0 0 7px rgba(0, 0, 0, 0);
      }

      100% {
        box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
      }
    }
  }
}

@mixin iui-notification-marker-hover {
  .iui-notification-primary::before,
  .iui-notification-positive::before,
  .iui-notification-warning::before,
  .iui-notification-negative::before {
    border-color: var(--iui-color-background-1-hover);
  }
}
