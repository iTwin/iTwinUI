// Copyright (c) Bentley Systems, Incorporated. All rights reserved.
// See LICENSE.md in the project root for license terms and full copyright notice.
@import '../style/index';

@mixin iui-button-split {
  display: inline-flex;
  align-items: center;
  isolation: isolate;

  :where(.iui-button:first-child) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;

    &[data-iui-variant='high-visibility'],
    &[data-iui-variant='cta'] {
      border-right-color: rgba(var(--iui-color-foreground-accessory-rgb), var(--iui-opacity-4));
    }

    &:hover {
      z-index: 1;
    }

    &[disabled],
    &:disabled,
    &[aria-disabled='true'] {
      border-right-color: var(--iui-color-background-4);
    }
  }

  :where(.iui-button:last-child) {
    --_iui-button-padding-inline: #{$iui-xs};

    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    margin-left: -1px;

    &[data-iui-variant='high-visibility'],
    &[data-iui-variant='cta'] {
      border-left-color: rgba(var(--iui-color-foreground-accessory-rgb), var(--iui-opacity-4));
    }

    &[disabled],
    &:disabled,
    &[aria-disabled='true'] {
      border-left-color: var(--iui-color-background-4);
    }

    &[data-iui-size='small'] {
      --_iui-button-padding-inline: #{$iui-xxs};
    }

    &[data-iui-size='large'] {
      --_iui-button-padding-inline: #{$iui-s};
    }
  }

  :where(.iui-button[disabled]),
  :where(.iui-button:disabled),
  :where(.iui-button[aria-disabled='true']) {
    &,
    &:hover {
      z-index: -1;
    }
  }
}
