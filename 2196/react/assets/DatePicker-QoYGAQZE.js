import{r as n,o as Z,l as Ye,B as b,c as v,I as x}from"./index-CuyZiCR-.js";import{T as Ee}from"./TimePicker-CHc_BjO-.js";import{S as ke}from"./SvgChevronLeft-Q4j8gxeB.js";import{S as Te}from"./SvgChevronRight-DKarsEy0.js";const Q=(m,u)=>{if(!m||!u)return!1;let s=new Date(m),r=new Date(u);return s&&s.setHours(0,0,0,0),r&&r.setHours(0,0,0,0),s<r},Re=m=>n.createElement(Z,m,n.createElement("path",{d:"m14.6 0 1.4 1.4-6.6 6.6 6.6 6.6-1.4 1.4-8-8zm-6.6 0 1.4 1.4-6.6 6.6 6.6 6.6-1.4 1.4-8-8z"})),Ne=m=>n.createElement(Z,m,n.createElement("path",{d:"m1.4 0-1.4 1.4 6.6 6.6-6.6 6.6 1.4 1.4 8-8zm6.6 0-1.4 1.4 6.6 6.6-6.6 6.6 1.4 1.4 8-8z"}));let p=(m,u)=>m&&u&&m.getFullYear()===u.getFullYear()&&m.getMonth()===u.getMonth()&&m.getDate()===u.getDate(),He=(m,u,s)=>{if(!m||!u||!s)return!1;let r=new Date(u),c=new Date(s),d=new Date(m);return d&&d.setHours(0,0,0,0),r&&r.setHours(0,0,0,0),c&&c.setHours(0,0,0,0),d>r&&d<c},X=(m,u)=>!u,Ie=["January","February","March","April","May","June","July","August","September","October","November","December"],xe=["Su","Mo","Tu","We","Th","Fr","Sa"],ye=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];const Oe=m=>{let u=new Intl.DateTimeFormat(m,{weekday:"short"}),s=new Intl.DateTimeFormat(m,{weekday:"long"}),r=new Intl.DateTimeFormat(m,{month:"long"}),c=[r.format(new Date(2020,0,1)),r.format(new Date(2020,1,1)),r.format(new Date(2020,2,1)),r.format(new Date(2020,3,1)),r.format(new Date(2020,4,1)),r.format(new Date(2020,5,1)),r.format(new Date(2020,6,1)),r.format(new Date(2020,7,1)),r.format(new Date(2020,8,1)),r.format(new Date(2020,9,1)),r.format(new Date(2020,10,1)),r.format(new Date(2020,11,1))],d=[s.format(new Date(2020,10,1)),s.format(new Date(2020,10,2)),s.format(new Date(2020,10,3)),s.format(new Date(2020,10,4)),s.format(new Date(2020,10,5)),s.format(new Date(2020,10,6)),s.format(new Date(2020,10,7))],y=[u.format(new Date(2020,10,1)).slice(0,2),u.format(new Date(2020,10,2)).slice(0,2),u.format(new Date(2020,10,3)).slice(0,2),u.format(new Date(2020,10,4)).slice(0,2),u.format(new Date(2020,10,5)).slice(0,2),u.format(new Date(2020,10,6)).slice(0,2),u.format(new Date(2020,10,7)).slice(0,2)];return{months:c,shortDays:y,days:d}},ze=n.forwardRef((m,u)=>{let{date:s,onChange:r,localizedNames:c,className:d,setFocus:y=!1,showTime:_=!1,use12Hours:ee=!1,precision:te,hourStep:re,minuteStep:ae,secondStep:ne,useCombinedRenderer:le,combinedRenderer:se,hourRenderer:oe,minuteRenderer:ue,secondRenderer:ie,meridiemRenderer:me,showYearSelection:J=!1,enableRangeSelect:E=!1,startDate:w,endDate:A,monthYearProps:T,calendarProps:ce,monthProps:R,weekDayProps:N,dayProps:S,weekProps:H,isDateDisabled:Y,applyBackground:ge=!0,showDatesOutsideMonth:C=!0,...fe}=m,K=(c==null?void 0:c.months)??Ie,De=(c==null?void 0:c.shortDays)??xe,he=(c==null?void 0:c.days)??ye,[g,j]=n.useState(s),[l,$]=n.useState(w),[i,B]=n.useState(A),[D,f]=n.useState(l??g??new Date),[o,we]=n.useState((l==null?void 0:l.getMonth())??(g==null?void 0:g.getMonth())??new Date().getMonth()),[h,Me]=n.useState((l==null?void 0:l.getFullYear())??(g==null?void 0:g.getFullYear())??new Date().getFullYear()),[de,U]=n.useState(!0),F=n.useRef(y);n.useEffect(()=>{F.current&&(F.current=!1)});let M=n.useCallback((e,t)=>{we(e),Me(t)},[]);n.useEffect(()=>{let e=new Date;j(s),$(w),B(A),E||f(s??e),M((w==null?void 0:w.getMonth())??(s==null?void 0:s.getMonth())??e.getMonth(),(w==null?void 0:w.getFullYear())??(s==null?void 0:s.getFullYear())??e.getFullYear())},[s,M,w,A,E]);let L=n.useMemo(()=>{let e=new Date(h,o,1).getDay();e===0&&C&&(e=7);let t=[];for(let a=1;a<=42;a++){let k=a-e;t.push(new Date(h,o,k))}return t},[o,h,C]),pe=n.useMemo(()=>{let e=[],t=Math.ceil(L.length/7);for(let a=0;a<t;a++)e.push(L.slice(7*a,(a+1)*7));return e},[L]),I=(e,t)=>{let a=l??g??new Date;return new Date(e,t,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())},Se=()=>{let e=h-1;M(o,e),f(I(e,o))},Fe=()=>{let e=h+1;M(o,e),f(I(e,o))},O=()=>{let e=o!==0?o-1:11,t=o!==0?h:h-1;M(e,t),f(I(t,e))},z=()=>{let e=o!==11?o+1:0,t=o!==11?h:h+1;M(e,t),f(I(t,e))},V=e=>{if(E)if(de){e.getMonth()!==(l==null?void 0:l.getMonth())&&M(e.getMonth(),e.getFullYear());let t=l??new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds());$(a),f(a),Q(a,i)?i&&(r==null||r(a,i)):(B(a),r==null||r(a,a)),U(!1)}else{e.getMonth()!==(i==null?void 0:i.getMonth())&&M(e.getMonth(),e.getFullYear());let t=i??new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds());f(a),Q(a,l)?($(a),i&&(r==null||r(a,i))):(B(a),l&&(r==null||r(l,a)),U(!0))}else{e.getMonth()!==(g==null?void 0:g.getMonth())&&M(e.getMonth(),e.getFullYear());let t=g??new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds());j(a),f(a),X(r,E)&&(r==null||r(a))}},be=e=>{if(e.altKey||!D)return;let t=new Date(D);switch(e.key){case"ArrowDown":t.setDate(D.getDate()+7),t.getMonth()!==o&&z(),f(t),F.current=!0,e.preventDefault();break;case"ArrowUp":t.setDate(D.getDate()-7),t.getMonth()!==o&&O(),f(t),F.current=!0,e.preventDefault();break;case"ArrowLeft":t.setDate(D.getDate()-1),t.getMonth()!==o&&O(),f(t),F.current=!0,e.preventDefault();break;case"ArrowRight":t.setDate(D.getDate()+1),t.getMonth()!==o&&z(),f(t),F.current=!0,e.preventDefault();break;case"Enter":case" ":case"Spacebar":Y!=null&&Y(D)||V(D),e.preventDefault();break}},q=e=>{if(e.getMonth()!==o)return"iui-calendar-day-outside-month";let t="iui-calendar-day";return p(e,g)||p(e,l)&&p(e,i)?t+="-selected":p(e,l)?t+="-range-start":p(e,i)&&(t+="-range-end"),l&&i&&He(e,l,i)&&(t+="-range"),p(e,new Date)&&(t+="-today"),t},G=Ye();return n.createElement(b,{className:v("iui-date-picker",{"iui-popover-surface":ge},d),ref:u,...fe},n.createElement("div",null,n.createElement(b,{as:"div",...T,className:v("iui-calendar-month-year",T==null?void 0:T.className)},J&&n.createElement(x,{styleType:"borderless",onClick:Se,"aria-label":"Previous year",size:"small"},n.createElement(Re,null)),n.createElement(x,{styleType:"borderless",onClick:O,"aria-label":"Previous month",size:"small"},n.createElement(ke,null)),n.createElement("span",{"aria-live":"polite"},n.createElement(b,{as:"span",id:G,title:K[o],...R,className:v("iui-calendar-month",R==null?void 0:R.className)},K[o]),"Â ",h),n.createElement(x,{styleType:"borderless",onClick:z,"aria-label":"Next month",size:"small"},n.createElement(Te,null)),J&&n.createElement(x,{styleType:"borderless",onClick:Fe,"aria-label":"Next year",size:"small"},n.createElement(Ne,null))),n.createElement(b,{as:"div",...N,className:v("iui-calendar-weekdays",N==null?void 0:N.className)},De.map((e,t)=>n.createElement("div",{key:e,title:he[t]},e))),n.createElement("div",{onKeyDown:be,role:"listbox","aria-labelledby":G,...ce},pe.map((e,t)=>n.createElement(b,{as:"div",key:`week-${o}-${t}`,...H,className:v("iui-calendar-week",H==null?void 0:H.className)},e.map((a,k)=>{let ve=a.getDate(),P=Y==null?void 0:Y(a);return a.getMonth()!==o&&!C?n.createElement(b,{key:`day-${o}-${k}`,className:v(q(a),S==null?void 0:S.className),"aria-hidden":!0}):n.createElement(b,{as:"div",key:`day-${o}-${k}`,onClick:()=>!P&&V(a),role:"option",tabIndex:p(a,D)?0:-1,"aria-disabled":P?"true":void 0,ref:W=>p(a,D)&&F.current&&(W==null?void 0:W.focus()),...S,className:v(q(a),S==null?void 0:S.className)},ve)}))))),_&&n.createElement(Ee,{date:l??g,use12Hours:ee,precision:te,hourStep:re,minuteStep:ae,secondStep:ne,useCombinedRenderer:le,combinedRenderer:se,hourRenderer:oe,minuteRenderer:ue,secondRenderer:ie,meridiemRenderer:me,onChange:e=>X(r,E)?r==null?void 0:r(e):r==null?void 0:r(new Date((l==null?void 0:l.getFullYear())??e.getFullYear(),(l==null?void 0:l.getMonth())??e.getMonth(),(l==null?void 0:l.getDate())??e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),new Date((i==null?void 0:i.getFullYear())??e.getFullYear(),(i==null?void 0:i.getMonth())??e.getMonth(),(i==null?void 0:i.getDate())??e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}))});export{ze as D,Oe as g,Q as i};
