import{r as f,h as d}from"./index-BwIOiXST.js";const I=(r,l={},t=!0)=>{let{root:s,rootMargin:n,threshold:o}=l,e=f.useRef(()=>{});return f.useCallback(i=>{var u,a;if((u=e.current)==null||u.call(e),e.current=()=>{},!i||!((a=d())!=null&&a.IntersectionObserver))return;let c=new IntersectionObserver(([b],v)=>{b.isIntersecting&&(t&&v.disconnect(),r())},{root:s,rootMargin:n,threshold:o});c.observe(i),e.current=()=>c.disconnect()},[r,t,s,n,o])};export{I as u};
