import{r as e,q as H,n as L,c as E,u as d,B as O,d as y,m as g,a as T}from"./index-CpsCEBgu.js";import{I as A,b as G,a as J}from"./InputFlexContainer-Cd68IRdF.js";const f=t=>e.createElement(H,{...t},e.createElement("path",{d:"m11 9.7c.7-1 1.1-2.2 1.1-3.5.1-3.5-2.7-6.2-6-6.2-3.4 0-6.1 2.7-6.1 6.1s2.7 6.1 6.1 6.1c1.3 0 2.5-.4 3.5-1.1l4.9 4.9 1.4-1.4zm-5 .5c-2.3 0-4.1-1.8-4.1-4.1s1.8-4.1 4.1-4.1 4.1 1.8 4.1 4.1-1.8 4.1-4.1 4.1"})),i=e.createContext(void 0),K=e.forwardRef((t,s)=>{const{size:n,expandable:a=!1,isDisabled:r=!1,onCollapse:l,onExpand:o,isExpanded:c,children:u,inputProps:k,className:v,...w}=t,D=L(),[F,P]=e.useState(D),I=e.useRef(null),N=e.useRef(null),[q,R]=e.useState(c),z=c??q,M=()=>{R(!1),l==null||l(),queueMicrotask(()=>{var p;return(p=N.current)==null?void 0:p.focus({preventScroll:!0})})},j=()=>{R(!0),o==null||o(),queueMicrotask(()=>{var p;return(p=I.current)==null?void 0:p.focus({preventScroll:!0})})};return e.createElement(i.Provider,{value:{size:n,isDisabled:r,onCollapse:M,onExpand:j,inputRef:I,inputId:F,setInputId:P,openButtonRef:N,isExpanded:z,expandable:a}},e.createElement(A,{ref:s,className:E("iui-searchbox",{"iui-expandable-searchbox":a},v),size:n,isDisabled:r,"data-iui-expanded":z,...w},u??e.createElement(e.Fragment,null,e.createElement(S,null,e.createElement(m,null)),e.createElement(h,null,e.createElement(B,null),e.createElement(C,{...k}),a?e.createElement(b,null):null))))}),S=({children:t})=>{const{isExpanded:s,expandable:n}=d(i);return!n||s?null:e.createElement(e.Fragment,null,t??e.createElement(m,null))};S.displayName="SearchBox.CollapsedState";const h=({children:t})=>{const{isExpanded:s,expandable:n}=d(i);return n&&!s?null:e.createElement(e.Fragment,null,t)};h.displayName="SearchBox.ExpandedState";const B=e.forwardRef((t,s)=>{const{className:n,children:a,...r}=t;return e.createElement(G,{"aria-hidden":!0,className:E("iui-search-icon",n),ref:s,...r},a??e.createElement(f,null))});B.displayName="SearchBox.Icon";const C=e.forwardRef((t,s)=>{const{className:n,id:a,...r}=t,{inputId:l,setInputId:o,isDisabled:c,inputRef:u}=d(i);return e.useEffect(()=>{a&&a!==l&&o(a)},[a,l,o]),e.createElement(O,{as:"input",id:a??l,ref:y(s,u),role:"searchbox",type:"text",className:E("iui-search-input",n),disabled:c,...r})});C.displayName="SearchBox.Input";const x=e.forwardRef((t,s)=>{const{children:n,...a}=t,{size:r,isDisabled:l}=d(i);return e.createElement(J,{size:r,ref:s,disabled:l,...a},n??e.createElement(f,null))});x.displayName="SearchBox.Button";const b=e.forwardRef((t,s)=>{const{children:n,onClick:a,...r}=t,{onCollapse:l,size:o,isDisabled:c}=d(i);return e.createElement(x,{ref:s,"aria-label":"Close searchbox",size:o,disabled:c,onClick:g(a,l),...r},n??e.createElement(T,null))});b.displayName="SearchBox.CollapseButton";const m=e.forwardRef((t,s)=>{const{children:n,onClick:a,...r}=t,{onExpand:l,size:o,isDisabled:c,openButtonRef:u}=d(i);return e.createElement(x,{ref:y(s,u),"aria-label":"Expand searchbox",size:o,disabled:c,onClick:g(a,l),styleType:"default",...r},n??e.createElement(f,null))});m.displayName="SearchBox.ExpandButton";const Q=Object.assign(K,{Icon:B,Input:C,Button:x,CollapseButton:b,ExpandButton:m,ExpandedState:h,CollapsedState:S});Q.displayName="SearchBox";export{Q as S};
