<!--
  Copyright (c) Bentley Systems, Incorporated. All rights reserved.
  See LICENSE.md in the project root for license terms and full copyright notice.
-->
<!DOCTYPE html>
<html
  lang="en-US"
  id="theme"
>
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    >
    <title>Carousel | iTwinUI</title>
    <link
      rel="stylesheet"
      href="../../lib/css/all.css"
    />
    <link
      rel="stylesheet"
      href="../assets/demo.css"
    />
    <style>
      section[id^='demo'] {
        width: auto;
        width: 30%;
      }
    </style>
    <script
      type="module"
      src="https://cdn.skypack.dev/@itwin/itwinui-icons-elements/chevron-left"
    ></script>
    <script
      type="module"
      src="https://cdn.skypack.dev/@itwin/itwinui-icons-elements/chevron-right"
    ></script>
    <script src="../assets/theme.js"></script>
  </head>
  <body class="iui-body">
    <theme-button></theme-button>
    <h1>Carousel</h1>
    <hr />

    <h2>Default</h2>
    <section id="demo-default">
      <div class="iui-carousel">
        <div class="iui-carousel-slider">
          <div
            class="iui-carousel-slider-item"
            style="background-image: url('../assets/image-test.jpg');"
          >1</div>
          <div
            class="iui-carousel-slider-item"
            style="background-color: var(--iui-color-background-4);"
          >2</div>
          <div
            class="iui-carousel-slider-item"
            style="background-color: var(--iui-color-background-5);"
          >3</div>
        </div>
        <nav class="iui-carousel-navigation">
          <button class="iui-button iui-borderless iui-small iui-carousel-navigation-button">
            <svg-chevron-left
              class="iui-button-icon"
              aria-hidden="true"
            ></svg-chevron-left>
          </button>
          <div class="iui-carousel-navigation-container">
            <ol class="iui-carousel-navigation-dots">
              <li>
                <button
                  class="iui-carousel-navigation-dot iui-invisible"
                  tabindex="-1"
                ></button>
              </li>
              <li>
                <button class="iui-carousel-navigation-dot iui-first"></button>
              </li>
              <li>
                <button class="iui-carousel-navigation-dot iui-second"></button>
              </li>
              <li>
                <button
                  class="iui-carousel-navigation-dot"
                  id="test-1"
                ></button>
              </li>
              <li>
                <button class="iui-carousel-navigation-dot iui-active"></button>
              </li>
              <li>
                <button
                  class="iui-carousel-navigation-dot"
                  id="test-2"
                ></button>
              </li>
              <li>
                <button class="iui-carousel-navigation-dot iui-second"></button>
              </li>
              <li>
                <button class="iui-carousel-navigation-dot iui-first"></button>
              </li>
              <li>
                <button
                  class="iui-carousel-navigation-dot iui-invisible"
                  tabindex="-1"
                ></button>
              </li>
            </ol>
          </div>
          <button class="iui-button iui-borderless iui-small iui-carousel-navigation-button">
            <svg-chevron-right
              class="iui-button-icon"
              aria-hidden="true"
            ></svg-chevron-right>
          </button>
        </nav>
      </div>
    </section>

    <hr />
    <h2>Counter</h2>
    <section id="demo-counter">
      <div class="iui-carousel">
        <div class="iui-carousel-slider">
          <div
            class="iui-carousel-slider-item"
            style="background-image: url('../assets/image-test.jpg');"
          >1</div>
          <div
            class="iui-carousel-slider-item"
            style="background-color: var(--iui-color-background-4);"
          >2</div>
          <div
            class="iui-carousel-slider-item"
            style="background-color: var(--iui-color-background-5);"
          >3</div>
        </div>
        <nav class="iui-carousel-navigation">
          <button class="iui-button iui-borderless iui-small iui-carousel-navigation-button">
            <svg-chevron-left
              class="iui-button-icon"
              aria-hidden="true"
            ></svg-chevron-left>
          </button>
          <div class="iui-carousel-navigation-container">
            <div class="iui-carousel-navigation-counter">
              <span class="iui-carousel-navigation-counter-current">4</span>
              <span class="iui-carousel-navigation-counter-total">7</span>
            </div>
          </div>
          <button class="iui-button iui-borderless iui-small iui-carousel-navigation-button">
            <svg-chevron-right
              class="iui-button-icon"
              aria-hidden="true"
            ></svg-chevron-right>
          </button>
        </nav>
      </div>
    </section>

    <script>
      function showSlide(carousel, activeIndex) {
        carousel.querySelectorAll(".iui-carousel-slider-item").forEach((item, index) => {
          if (index === activeIndex) {
            item.style.left = "0";
          }
          // else {
          //   item.style.left = "inherit";
          // }
        })
      }

      document.querySelectorAll(".iui-carousel").forEach((carousel) => {
        let currentSlide = 0;
        showSlide(carousel, currentSlide)

        const [previous, next] = carousel.querySelectorAll(".iui-carousel-navigation-button")

        previous.addEventListener("click", () => {
          currentSlide = (3 + currentSlide - 1) % 3;
          showSlide(carousel, currentSlide);
        })

        next.addEventListener("click", () => {
          currentSlide = (currentSlide + 1) % 3;
          showSlide(carousel, currentSlide);
        })
      })
    </script>
  </body>
</html>
