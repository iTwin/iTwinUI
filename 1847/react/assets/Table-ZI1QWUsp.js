import{r as h,q as qt,s as uo,I as mn,B as ie,c as Ie,e as ao,a0 as Un,a1 as jt,k as co,h as fo,Z as go,f as po}from"./index-7nKTUIFH.js";import{P as On}from"./ProgressRadial-MCZMRZZx.js";import{S as Jn}from"./SvgChevronRight-yTtxq0rE.js";import{C as Mn}from"./Checkbox-e4JaGEb5.js";import{u as mo}from"./useIntersection-5jtc3kEk.js";import{W as ho}from"./WithCSSTransition-3ezKwEmA.js";import{V as vo}from"./VirtualScroll-PkuY1nvU.js";import{P as Ro}from"./Popover-WYBrke_R.js";const yo=o=>h.createElement(qt,{...o},h.createElement("path",{d:"m9 16v-12.7l3.8 3.7 1.2-1.2-6-5.8-1.2 1.2-4.8 4.6 1.2 1.2 3.8-3.7v12.7z"})),bo=o=>h.createElement(qt,{...o},h.createElement("path",{d:"m7 0v12.7l-3.8-3.7-1.2 1.2 6 5.8 1.2-1.2 4.8-4.6-1.2-1.2-3.8 3.7v-12.7z"})),wo=o=>h.createElement(qt,{...o},h.createElement("path",{d:"m0 0v2l6 5v9l4-3v-6l6-5v-2z"})),So=o=>h.createElement(qt,{...o},h.createElement("path",{d:"M15 1v.5L9.4 6.2l-.4.3v6L7 14V6.5l-.4-.3L1 1.5V1zm1-1H0v2l6 5v9l4-3V7l6-5z"}));var Yn={exports:{}},gn={exports:{}};(function(o,s){(function(c,u){u(s,h)})(uo,function(c,u){function g(e,t,n,r,l,i,a){try{var p=e[i](a),m=p.value}catch(R){return void n(R)}p.done?t(m):Promise.resolve(m).then(r,l)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,l){var i=e.apply(t,n);function a(m){g(i,r,l,a,p,"next",m)}function p(m){g(i,r,l,a,p,"throw",m)}a(void 0)})}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(e==null)return{};var n,r,l={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}function z(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var l=n[Symbol.toPrimitive];if(l!==void 0){var i=l.call(n,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return typeof t=="symbol"?t:String(t)}u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;var f={init:"init"},W=function(e){var t=e.value;return t===void 0?"":t},F=function(){return u.createElement(u.Fragment,null," ")},A={Cell:W,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,l){var i=l.style,a=l.className;return r=d({},r,{},b(l,["style","className"])),i&&(r.style=r.style?d({},r.style||{},{},i||{}):i),a&&(r.className=r.className?r.className+" "+a:a),r.className===""&&delete r.className,r},{})}var N=function(e,t){return t===void 0&&(t={}),function(n){return n===void 0&&(n={}),[].concat(e,[n]).reduce(function(r,l){return function i(a,p,m){return typeof p=="function"?i({},p(a,m)):Array.isArray(p)?q.apply(void 0,[a].concat(p)):q(a,p)}(r,l,d({},t,{userProps:n}))},{})}},oe=function(e,t,n,r){return n===void 0&&(n={}),e.reduce(function(l,i){return i(l,n)},t)},fe=function(e,t,n){return n===void 0&&(n={}),e.forEach(function(r){r(t,n)})};function ae(e,t,n,r){e.findIndex(function(l){return l.pluginName===n}),t.forEach(function(l){e.findIndex(function(i){return i.pluginName===l})})}function ge(e,t){return typeof e=="function"?e(t):e}function Z(e){var t=u.useRef();return t.current=e,u.useCallback(function(){return t.current},[])}var te=typeof document<"u"?u.useLayoutEffect:u.useEffect;function se(e,t){var n=u.useRef(!1);te(function(){n.current&&e(),n.current=!0},t)}function Pe(e,t,n){return n===void 0&&(n={}),function(r,l){l===void 0&&(l={});var i=typeof r=="string"?t[r]:r;if(i===void 0)throw console.info(t),new Error("Renderer Error ☝️");return Se(i,d({},e,{column:t},n,{},l))}}function Se(e,t){return function(r){return typeof r=="function"&&(l=Object.getPrototypeOf(r)).prototype&&l.prototype.isReactComponent;var l}(n=e)||typeof n=="function"||function(r){return typeof r=="object"&&typeof r.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(r.$$typeof.description)}(n)?u.createElement(e,t):e;var n}function Ge(e,t,n){return n===void 0&&(n=0),e.map(function(r){return Ce(r=d({},r,{parent:t,depth:n})),r.columns&&(r.columns=Ge(r.columns,r,n+1)),r})}function re(e){return $e(e,"columns")}function Ce(e){var t=e.id,n=e.accessor,r=e.Header;if(typeof n=="string"){t=t||n;var l=n.split(".");n=function(i){return function(a,p,m){if(!p)return a;var R,E=typeof p=="function"?p:JSON.stringify(p),w=Me.get(E)||function(){var S=function(y){return function C(B,k){if(k===void 0&&(k=[]),Array.isArray(B))for(var T=0;T<B.length;T+=1)C(B[T],k);else k.push(B);return k}(y).map(function(C){return String(C).replace(".","_")}).join(".").replace(Ue,".").replace(Je,"").split(".")}(p);return Me.set(E,S),S}();try{R=w.reduce(function(S,y){return S[y]},a)}catch{}return R!==void 0?R:m}(i,l)}}if(!t&&typeof r=="string"&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function ze(e,t){if(!t)throw new Error;return Object.assign(e,d({Header:F,Footer:F},A,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function Kt(e,t,n){n===void 0&&(n=function(){return{}});for(var r=[],l=e,i=0,a=function(){return i++},p=function(){var m={headers:[]},R=[],E=l.some(function(w){return w.parent});l.forEach(function(w){var S,y=[].concat(R).reverse()[0];E&&(w.parent?S=d({},w.parent,{originalId:w.parent.id,id:w.parent.id+"_"+a(),headers:[w]},n(w)):S=ze(d({originalId:w.id+"_placeholder",id:w.id+"_placeholder_"+a(),placeholderOf:w,headers:[w]},n(w)),t),y&&y.originalId===S.originalId?y.headers.push(w):R.push(S)),m.headers.push(w)}),r.push(m),l=R};l.length;)p();return r.reverse()}var Me=new Map;function Ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(t[r]!==void 0)return t[r]}function De(e){if(typeof e=="function")return e}function $e(e,t){var n=[];return function r(l){l.forEach(function(i){i[t]?r(i[t]):n.push(i)})}(e),n}function qe(e,t){var n=t.manualExpandedKey,r=t.expanded,l=t.expandSubRows,i=l===void 0||l,a=[];return e.forEach(function(p){return function m(R,E){E===void 0&&(E=!0),R.isExpanded=R.original&&R.original[n]||r[R.id],R.canExpand=R.subRows&&!!R.subRows.length,E&&a.push(R),R.subRows&&R.subRows.length&&R.isExpanded&&R.subRows.forEach(function(w){return m(w,i)})}(p)}),a}function Ae(e,t,n){return De(e)||t[e]||n[e]||n.text}function lt(e,t,n){return e?e(t,n):t===void 0}function Ne(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var Ke=null,Ue=/\[/g,Je=/\]/g,Ye=function(e){return d({role:"table"},e)},ye=function(e){return d({role:"rowgroup"},e)},Ut=function(e,t){var n=t.column;return d({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},Fe=function(e,t){var n=t.column;return d({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},Jt=function(e,t){return d({key:"headerGroup_"+t.index,role:"row"},e)},wt=function(e,t){return d({key:"footerGroup_"+t.index},e)},St=function(e,t){return d({key:"row_"+t.row.id,role:"row"},e)},Ze=function(e,t){var n=t.cell;return d({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function ut(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[Ye],getTableBodyProps:[ye],getHeaderGroupProps:[Jt],getFooterGroupProps:[wt],getHeaderProps:[Ut],getFooterProps:[Fe],getRowProps:[St],getCellProps:[Ze],useFinalInstance:[]}}f.resetHiddenColumns="resetHiddenColumns",f.toggleHideColumn="toggleHideColumn",f.setHiddenColumns="setHiddenColumns",f.toggleHideAllColumns="toggleHideAllColumns";var Qe=function(e){e.getToggleHiddenProps=[at],e.getToggleHideAllColumnsProps=[Ve],e.stateReducers.push(Yt),e.useInstanceBeforeDimensions.push(Zt),e.headerGroupsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.hiddenColumns])}),e.useInstance.push(et)};Qe.pluginName="useColumnVisibility";var at=function(e,t){var n=t.column;return[e,{onChange:function(r){n.toggleHidden(!r.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},Ve=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleHideAllColumns(!r.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function Yt(e,t,n,r){if(t.type===f.init)return d({hiddenColumns:[]},e);if(t.type===f.resetHiddenColumns)return d({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===f.toggleHideColumn){var l=(t.value!==void 0?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter(function(i){return i!==t.columnId});return d({},e,{hiddenColumns:l})}return t.type===f.setHiddenColumns?d({},e,{hiddenColumns:ge(t.value,e.hiddenColumns)}):t.type===f.toggleHideAllColumns?d({},e,{hiddenColumns:(t.value!==void 0?t.value:!e.hiddenColumns.length)?r.allColumns.map(function(i){return i.id}):[]}):void 0}function Zt(e){var t=e.headers,n=e.state.hiddenColumns;u.useRef(!1).current;var r=0;t.forEach(function(l){return r+=function i(a,p){a.isVisible=p&&!n.includes(a.id);var m=0;return a.headers&&a.headers.length?a.headers.forEach(function(R){return m+=i(R,a.isVisible)}):m=a.isVisible?1:0,a.totalVisibleHeaderCount=m,m}(l,!0)})}function et(e){var t=e.columns,n=e.flatHeaders,r=e.dispatch,l=e.allColumns,i=e.getHooks,a=e.state.hiddenColumns,p=e.autoResetHiddenColumns,m=p===void 0||p,R=Z(e),E=l.length===a.length,w=u.useCallback(function(k,T){return r({type:f.toggleHideColumn,columnId:k,value:T})},[r]),S=u.useCallback(function(k){return r({type:f.setHiddenColumns,value:k})},[r]),y=u.useCallback(function(k){return r({type:f.toggleHideAllColumns,value:k})},[r]),C=N(i().getToggleHideAllColumnsProps,{instance:R()});n.forEach(function(k){k.toggleHidden=function(T){r({type:f.toggleHideColumn,columnId:k.id,value:T})},k.getToggleHiddenProps=N(i().getToggleHiddenProps,{instance:R(),column:k})});var B=Z(m);se(function(){B()&&r({type:f.resetHiddenColumns})},[r,t]),Object.assign(e,{allColumnsHidden:E,toggleHideColumn:w,setHiddenColumns:S,toggleHideAllColumns:y,getToggleHideAllColumnsProps:C})}var xe={},Qt={},tt=function(e,t,n){return e},Ct=function(e,t){return e.subRows||[]},en=function(e,t,n){return""+(n?[n.id,t].join("."):t)},Et=function(e){return e};function he(e){var t=e.initialState,n=t===void 0?xe:t,r=e.defaultColumn,l=r===void 0?Qt:r,i=e.getSubRows,a=i===void 0?Ct:i,p=e.getRowId,m=p===void 0?en:p,R=e.stateReducer,E=R===void 0?tt:R,w=e.useControlledState,S=w===void 0?Et:w;return d({},b(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:l,getSubRows:a,getRowId:m,stateReducer:E,useControlledState:S})}function xt(e,t){t===void 0&&(t=0);var n=0,r=0,l=0,i=0;return e.forEach(function(a){var p=a.headers;if(a.totalLeft=t,p&&p.length){var m=xt(p,t),R=m[0],E=m[1],w=m[2],S=m[3];a.totalMinWidth=R,a.totalWidth=E,a.totalMaxWidth=w,a.totalFlexWidth=S}else a.totalMinWidth=a.minWidth,a.totalWidth=Math.min(Math.max(a.minWidth,a.width),a.maxWidth),a.totalMaxWidth=a.maxWidth,a.totalFlexWidth=a.canResize?a.totalWidth:0;a.isVisible&&(t+=a.totalWidth,n+=a.totalMinWidth,r+=a.totalWidth,l+=a.totalMaxWidth,i+=a.totalFlexWidth)}),[n,r,l,i]}function Be(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.rowsById,i=e.column,a=e.getRowId,p=e.getSubRows,m=e.accessValueHooks,R=e.getInstance;t.forEach(function(E,w){return function S(y,C,B,k,T){B===void 0&&(B=0);var $=y,H=a(y,C,k),x=l[H];if(x)x.subRows&&x.originalSubRows.forEach(function(P,D){return S(P,D,B+1,x)});else if((x={id:H,original:$,index:C,depth:B,cells:[{}]}).cells.map=Ne,x.cells.filter=Ne,x.cells.forEach=Ne,x.cells[0].getCellProps=Ne,x.values={},T.push(x),r.push(x),l[H]=x,x.originalSubRows=p(y,C),x.originalSubRows){var j=[];x.originalSubRows.forEach(function(P,D){return S(P,D,B+1,x,j)}),x.subRows=j}i.accessor&&(x.values[i.id]=i.accessor(y,C,x,T,t)),x.values[i.id]=oe(m,x.values[i.id],{row:x,column:i,instance:R()})}(E,w,0,void 0,n)})}f.resetExpanded="resetExpanded",f.toggleRowExpanded="toggleRowExpanded",f.toggleAllRowsExpanded="toggleAllRowsExpanded";var He=function(e){e.getToggleAllRowsExpandedProps=[It],e.getToggleRowExpandedProps=[nt],e.stateReducers.push(rt),e.useInstance.push(tn),e.prepareRow.push(Bt)};He.pluginName="useExpanded";var It=function(e,t){var n=t.instance;return[e,{onClick:function(r){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},nt=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function rt(e,t,n,r){if(t.type===f.init)return d({expanded:{}},e);if(t.type===f.resetExpanded)return d({},e,{expanded:r.initialState.expanded||{}});if(t.type===f.toggleAllRowsExpanded){var l=t.value,i=r.rowsById,a=Object.keys(i).length===Object.keys(e.expanded).length;if(l!==void 0?l:!a){var p={};return Object.keys(i).forEach(function(C){p[C]=!0}),d({},e,{expanded:p})}return d({},e,{expanded:{}})}if(t.type===f.toggleRowExpanded){var m,R=t.id,E=t.value,w=e.expanded[R],S=E!==void 0?E:!w;if(!w&&S)return d({},e,{expanded:d({},e.expanded,(m={},m[R]=!0,m))});if(w&&!S){var y=e.expanded;return y[R],d({},e,{expanded:b(y,[R].map(z))})}return e}}function tn(e){var t=e.data,n=e.rows,r=e.rowsById,l=e.manualExpandedKey,i=l===void 0?"expanded":l,a=e.paginateExpandedRows,p=a===void 0||a,m=e.expandSubRows,R=m===void 0||m,E=e.autoResetExpanded,w=E===void 0||E,S=e.getHooks,y=e.plugins,C=e.state.expanded,B=e.dispatch;ae(y,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var k=Z(w),T=!!(Object.keys(r).length&&Object.keys(C).length);T&&Object.keys(r).some(function(K){return!C[K]})&&(T=!1),se(function(){k()&&B({type:f.resetExpanded})},[B,t]);var $=u.useCallback(function(K,L){B({type:f.toggleRowExpanded,id:K,value:L})},[B]),H=u.useCallback(function(K){return B({type:f.toggleAllRowsExpanded,value:K})},[B]),x=u.useMemo(function(){return p?qe(n,{manualExpandedKey:i,expanded:C,expandSubRows:R}):n},[p,n,i,C,R]),j=u.useMemo(function(){return function(K){var L=0;return Object.keys(K).forEach(function(M){var ee=M.split(".");L=Math.max(L,ee.length)}),L}(C)},[C]),P=Z(e),D=N(S().getToggleAllRowsExpandedProps,{instance:P()});Object.assign(e,{preExpandedRows:n,expandedRows:x,rows:x,expandedDepth:j,isAllRowsExpanded:T,toggleRowExpanded:$,toggleAllRowsExpanded:H,getToggleAllRowsExpandedProps:D})}function Bt(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(l){return r.toggleRowExpanded(e.id,l)},e.getToggleRowExpandedProps=N(n().getToggleRowExpandedProps,{instance:r,row:e})}var ct=function(e,t,n){return e=e.filter(function(r){return t.some(function(l){var i=r.values[l];return String(i).toLowerCase().includes(String(n).toLowerCase())})})};ct.autoRemove=function(e){return!e};var kt=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return i===void 0||String(i).toLowerCase()===String(n).toLowerCase()})})};kt.autoRemove=function(e){return!e};var ot=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return i===void 0||String(i)===String(n)})})};ot.autoRemove=function(e){return!e};var dt=function(e,t,n){return e.filter(function(r){return t.some(function(l){return r.values[l].includes(n)})})};dt.autoRemove=function(e){return!e||!e.length};var je=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return i&&i.length&&n.every(function(a){return i.includes(a)})})})};je.autoRemove=function(e){return!e||!e.length};var ft=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return i&&i.length&&n.some(function(a){return i.includes(a)})})})};ft.autoRemove=function(e){return!e||!e.length};var gt=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return n.includes(i)})})};gt.autoRemove=function(e){return!e||!e.length};var zt=function(e,t,n){return e.filter(function(r){return t.some(function(l){return r.values[l]===n})})};zt.autoRemove=function(e){return e===void 0};var We=function(e,t,n){return e.filter(function(r){return t.some(function(l){return r.values[l]==n})})};We.autoRemove=function(e){return e==null};var be=function(e,t,n){var r=n||[],l=r[0],i=r[1];if((l=typeof l=="number"?l:-1/0)>(i=typeof i=="number"?i:1/0)){var a=l;l=i,i=a}return e.filter(function(p){return t.some(function(m){var R=p.values[m];return R>=l&&R<=i})})};be.autoRemove=function(e){return!e||typeof e[0]!="number"&&typeof e[1]!="number"};var _e=Object.freeze({__proto__:null,text:ct,exactText:kt,exactTextCase:ot,includes:dt,includesAll:je,includesSome:ft,includesValue:gt,exact:zt,equals:We,between:be});f.resetFilters="resetFilters",f.setFilter="setFilter",f.setAllFilters="setAllFilters";var pt=function(e){e.stateReducers.push(Xe),e.useInstance.push(Pt)};function Xe(e,t,n,r){if(t.type===f.init)return d({filters:[]},e);if(t.type===f.resetFilters)return d({},e,{filters:r.initialState.filters||[]});if(t.type===f.setFilter){var l=t.columnId,i=t.filterValue,a=r.allColumns,p=r.filterTypes,m=a.find(function(B){return B.id===l});if(!m)throw new Error("React-Table: Could not find a column with id: "+l);var R=Ae(m.filter,p||{},_e),E=e.filters.find(function(B){return B.id===l}),w=ge(i,E&&E.value);return lt(R.autoRemove,w,m)?d({},e,{filters:e.filters.filter(function(B){return B.id!==l})}):d({},e,E?{filters:e.filters.map(function(B){return B.id===l?{id:l,value:w}:B})}:{filters:[].concat(e.filters,[{id:l,value:w}])})}if(t.type===f.setAllFilters){var S=t.filters,y=r.allColumns,C=r.filterTypes;return d({},e,{filters:ge(S,e.filters).filter(function(B){var k=y.find(function(T){return T.id===B.id});return!lt(Ae(k.filter,C||{},_e).autoRemove,B.value,k)})})}}function Pt(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.rowsById,i=e.allColumns,a=e.filterTypes,p=e.manualFilters,m=e.defaultCanFilter,R=m!==void 0&&m,E=e.disableFilters,w=e.state.filters,S=e.dispatch,y=e.autoResetFilters,C=y===void 0||y,B=u.useCallback(function(P,D){S({type:f.setFilter,columnId:P,filterValue:D})},[S]),k=u.useCallback(function(P){S({type:f.setAllFilters,filters:P})},[S]);i.forEach(function(P){var D=P.id,K=P.accessor,L=P.defaultCanFilter,M=P.disableFilters;P.canFilter=K?Ee(M!==!0&&void 0,E!==!0&&void 0,!0):Ee(L,R,!1),P.setFilter=function(V){return B(P.id,V)};var ee=w.find(function(V){return V.id===D});P.filterValue=ee&&ee.value});var T=u.useMemo(function(){if(p||!w.length)return[n,r,l];var P=[],D={};return[function K(L,M){M===void 0&&(M=0);var ee=L;return(ee=w.reduce(function(V,Q){var Y=Q.id,ne=Q.value,G=i.find(function(ue){return ue.id===Y});if(!G)return V;M===0&&(G.preFilteredRows=V);var J=Ae(G.filter,a||{},_e);return J?(G.filteredRows=J(V,[Y],ne),G.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+G.id+"."),V)},L)).forEach(function(V){P.push(V),D[V.id]=V,V.subRows&&(V.subRows=V.subRows&&V.subRows.length>0?K(V.subRows,M+1):V.subRows)}),ee}(n),P,D]},[p,w,n,r,l,i,a]),$=T[0],H=T[1],x=T[2];u.useMemo(function(){i.filter(function(P){return!w.find(function(D){return D.id===P.id})}).forEach(function(P){P.preFilteredRows=$,P.filteredRows=$})},[$,w,i]);var j=Z(C);se(function(){j()&&S({type:f.resetFilters})},[S,p?null:t]),Object.assign(e,{preFilteredRows:n,preFilteredFlatRows:r,preFilteredRowsById:l,filteredRows:$,filteredFlatRows:H,filteredRowsById:x,rows:$,flatRows:H,rowsById:x,setFilter:B,setAllFilters:k})}pt.pluginName="useFilters",f.resetGlobalFilter="resetGlobalFilter",f.setGlobalFilter="setGlobalFilter";var Ft=function(e){e.stateReducers.push(nn),e.useInstance.push(Wt)};function nn(e,t,n,r){if(t.type===f.resetGlobalFilter)return d({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===f.setGlobalFilter){var l=t.filterValue,i=r.userFilterTypes,a=Ae(r.globalFilter,i||{},_e),p=ge(l,e.globalFilter);return lt(a.autoRemove,p)?(e.globalFilter,b(e,["globalFilter"])):d({},e,{globalFilter:p})}}function Wt(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.rowsById,i=e.allColumns,a=e.filterTypes,p=e.globalFilter,m=e.manualGlobalFilter,R=e.state.globalFilter,E=e.dispatch,w=e.autoResetGlobalFilter,S=w===void 0||w,y=e.disableGlobalFilter,C=u.useCallback(function(x){E({type:f.setGlobalFilter,filterValue:x})},[E]),B=u.useMemo(function(){if(m||R===void 0)return[n,r,l];var x=[],j={},P=Ae(p,a||{},_e);if(!P)return console.warn("Could not find a valid 'globalFilter' option."),n;i.forEach(function(K){var L=K.disableGlobalFilter;K.canFilter=Ee(L!==!0&&void 0,y!==!0&&void 0,!0)});var D=i.filter(function(K){return K.canFilter===!0});return[function K(L){return(L=P(L,D.map(function(M){return M.id}),R)).forEach(function(M){x.push(M),j[M.id]=M,M.subRows=M.subRows&&M.subRows.length?K(M.subRows):M.subRows}),L}(n),x,j]},[m,R,p,a,i,n,r,l,y]),k=B[0],T=B[1],$=B[2],H=Z(S);se(function(){H()&&E({type:f.resetGlobalFilter})},[E,m?null:t]),Object.assign(e,{preGlobalFilteredRows:n,preGlobalFilteredFlatRows:r,preGlobalFilteredRowsById:l,globalFilteredRows:k,globalFilteredFlatRows:T,globalFilteredRowsById:$,rows:k,flatRows:T,rowsById:$,setGlobalFilter:C,disableGlobalFilter:y})}function Ht(e,t){return t.reduce(function(n,r){return n+(typeof r=="number"?r:0)},0)}Ft.pluginName="useGlobalFilter";var Tt=Object.freeze({__proto__:null,sum:Ht,min:function(e){var t=e[0]||0;return e.forEach(function(n){typeof n=="number"&&(t=Math.min(t,n))}),t},max:function(e){var t=e[0]||0;return e.forEach(function(n){typeof n=="number"&&(t=Math.max(t,n))}),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach(function(r){typeof r=="number"&&(t=Math.min(t,r),n=Math.max(n,r))}),t+".."+n},average:function(e){return Ht(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort(function(r,l){return r-l});return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),rn=[],mt={};f.resetGroupBy="resetGroupBy",f.setGroupBy="setGroupBy",f.toggleGroupBy="toggleGroupBy";var Gt=function(e){e.getGroupByToggleProps=[ht],e.stateReducers.push(vt),e.visibleColumnsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.groupBy])}),e.visibleColumns.push(I),e.useInstance.push(_),e.prepareRow.push(pe)};Gt.pluginName="useGroupBy";var ht=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(r){r.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function vt(e,t,n,r){if(t.type===f.init)return d({groupBy:[]},e);if(t.type===f.resetGroupBy)return d({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===f.setGroupBy)return d({},e,{groupBy:t.value});if(t.type===f.toggleGroupBy){var l=t.columnId,i=t.value,a=i!==void 0?i:!e.groupBy.includes(l);return d({},e,a?{groupBy:[].concat(e.groupBy,[l])}:{groupBy:e.groupBy.filter(function(p){return p!==l})})}}function I(e,t){var n=t.instance.state.groupBy,r=n.map(function(i){return e.find(function(a){return a.id===i})}).filter(Boolean),l=e.filter(function(i){return!n.includes(i.id)});return(e=[].concat(r,l)).forEach(function(i){i.isGrouped=n.includes(i.id),i.groupedIndex=n.indexOf(i.id)}),e}var X={};function _(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.rowsById,i=e.allColumns,a=e.flatHeaders,p=e.groupByFn,m=p===void 0?it:p,R=e.manualGroupBy,E=e.aggregations,w=E===void 0?X:E,S=e.plugins,y=e.state.groupBy,C=e.dispatch,B=e.autoResetGroupBy,k=B===void 0||B,T=e.disableGroupBy,$=e.defaultCanGroupBy,H=e.getHooks;ae(S,["useColumnOrder","useFilters"],"useGroupBy");var x=Z(e);i.forEach(function(G){var J=G.accessor,ue=G.defaultGroupBy,ve=G.disableGroupBy;G.canGroupBy=J?Ee(G.canGroupBy,ve!==!0&&void 0,T!==!0&&void 0,!0):Ee(G.canGroupBy,ue,$,!1),G.canGroupBy&&(G.toggleGroupBy=function(){return e.toggleGroupBy(G.id)}),G.Aggregated=G.Aggregated||G.Cell});var j=u.useCallback(function(G,J){C({type:f.toggleGroupBy,columnId:G,value:J})},[C]),P=u.useCallback(function(G){C({type:f.setGroupBy,value:G})},[C]);a.forEach(function(G){G.getGroupByToggleProps=N(H().getGroupByToggleProps,{instance:x(),header:G})});var D=u.useMemo(function(){if(R||!y.length)return[n,r,l,rn,mt,r,l];var G=y.filter(function(me){return i.find(function(Oe){return Oe.id===me})}),J=[],ue={},ve=[],O={},le=[],ce={},Re=function me(Oe,Te,Hn){if(Te===void 0&&(Te=0),Te===G.length)return Oe.map(function(Lt){return d({},Lt,{depth:Te})});var cn=G[Te],to=m(Oe,cn);return Object.entries(to).map(function(Lt,no){var Tn=Lt[0],Ot=Lt[1],Mt=cn+":"+Tn,Gn=me(Ot,Te+1,Mt=Hn?Hn+">"+Mt:Mt),An=Te?$e(Ot,"leafRows"):Ot,ro=function(ke,dn,io){var Dt={};return i.forEach(function(de){if(G.includes(de.id))Dt[de.id]=dn[0]?dn[0].values[de.id]:null;else{var Nn=typeof de.aggregate=="function"?de.aggregate:w[de.aggregate]||Tt[de.aggregate];if(Nn){var so=dn.map(function(Vt){return Vt.values[de.id]}),lo=ke.map(function(Vt){var fn=Vt.values[de.id];if(!io&&de.aggregateValue){var Ln=typeof de.aggregateValue=="function"?de.aggregateValue:w[de.aggregateValue]||Tt[de.aggregateValue];if(!Ln)throw console.info({column:de}),new Error("React Table: Invalid column.aggregateValue option for column listed above");fn=Ln(fn,Vt,de)}return fn});Dt[de.id]=Nn(lo,so)}else{if(de.aggregate)throw console.info({column:de}),new Error("React Table: Invalid column.aggregate option for column listed above");Dt[de.id]=null}}}),Dt}(An,Ot,Te),oo={id:Mt,isGrouped:!0,groupByID:cn,groupByVal:Tn,values:ro,subRows:Gn,leafRows:An,depth:Te,index:no};return Gn.forEach(function(ke){J.push(ke),ue[ke.id]=ke,ke.isGrouped?(ve.push(ke),O[ke.id]=ke):(le.push(ke),ce[ke.id]=ke)}),oo})}(n);return Re.forEach(function(me){J.push(me),ue[me.id]=me,me.isGrouped?(ve.push(me),O[me.id]=me):(le.push(me),ce[me.id]=me)}),[Re,J,ue,ve,O,le,ce]},[R,y,n,r,l,i,w,m]),K=D[0],L=D[1],M=D[2],ee=D[3],V=D[4],Q=D[5],Y=D[6],ne=Z(k);se(function(){ne()&&C({type:f.resetGroupBy})},[C,R?null:t]),Object.assign(e,{preGroupedRows:n,preGroupedFlatRow:r,preGroupedRowsById:l,groupedRows:K,groupedFlatRows:L,groupedRowsById:M,onlyGroupedFlatRows:ee,onlyGroupedRowsById:V,nonGroupedFlatRows:Q,nonGroupedRowsById:Y,rows:K,flatRows:L,rowsById:M,toggleGroupBy:j,setGroupBy:P})}function pe(e){e.allCells.forEach(function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&((n=e.subRows)==null?void 0:n.length)})}function it(e,t){return e.reduce(function(n,r,l){var i=""+r.values[t];return n[i]=Array.isArray(n[i])?n[i]:[],n[i].push(r),n},{})}var At=/([0-9]+)/gm;function Rt(e,t){return e===t?0:e>t?1:-1}function Le(e,t,n){return[e.values[n],t.values[n]]}function we(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}var pr=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=Le(e,t,n),l=r[0],i=r[1];for(l=we(l),i=we(i),l=l.split(At).filter(Boolean),i=i.split(At).filter(Boolean);l.length&&i.length;){var a=l.shift(),p=i.shift(),m=parseInt(a,10),R=parseInt(p,10),E=[m,R].sort();if(isNaN(E[0])){if(a>p)return 1;if(p>a)return-1}else{if(isNaN(E[1]))return isNaN(m)?-1:1;if(m>R)return 1;if(R>m)return-1}}return l.length-i.length},datetime:function(e,t,n){var r=Le(e,t,n),l=r[0],i=r[1];return Rt(l=l.getTime(),i=i.getTime())},basic:function(e,t,n){var r=Le(e,t,n);return Rt(r[0],r[1])},string:function(e,t,n){var r=Le(e,t,n),l=r[0],i=r[1];for(l=l.split("").filter(Boolean),i=i.split("").filter(Boolean);l.length&&i.length;){var a=l.shift(),p=i.shift(),m=a.toLowerCase(),R=p.toLowerCase();if(m>R)return 1;if(R>m)return-1;if(a>p)return 1;if(p>a)return-1}return l.length-i.length},number:function(e,t,n){var r=Le(e,t,n),l=r[0],i=r[1],a=/[^0-9.]/gi;return Rt(l=Number(String(l).replace(a,"")),i=Number(String(i).replace(a,"")))}});f.resetSortBy="resetSortBy",f.setSortBy="setSortBy",f.toggleSortBy="toggleSortBy",f.clearSortBy="clearSortBy",A.sortType="alphanumeric",A.sortDescFirst=!1;var Rn=function(e){e.getSortByToggleProps=[mr],e.stateReducers.push(hr),e.useInstance.push(vr)};Rn.pluginName="useSortBy";var mr=function(e,t){var n=t.instance,r=t.column,l=n.isMultiSortEvent,i=l===void 0?function(a){return a.shiftKey}:l;return[e,{onClick:r.canSort?function(a){a.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&i(a))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function hr(e,t,n,r){if(t.type===f.init)return d({sortBy:[]},e);if(t.type===f.resetSortBy)return d({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===f.clearSortBy)return d({},e,{sortBy:e.sortBy.filter(function(x){return x.id!==t.columnId})});if(t.type===f.setSortBy)return d({},e,{sortBy:t.sortBy});if(t.type===f.toggleSortBy){var l,i=t.columnId,a=t.desc,p=t.multi,m=r.allColumns,R=r.disableMultiSort,E=r.disableSortRemove,w=r.disableMultiRemove,S=r.maxMultiSortColCount,y=S===void 0?Number.MAX_SAFE_INTEGER:S,C=e.sortBy,B=m.find(function(x){return x.id===i}).sortDescFirst,k=C.find(function(x){return x.id===i}),T=C.findIndex(function(x){return x.id===i}),$=a!=null,H=[];return(l=!R&&p?k?"toggle":"add":T!==C.length-1||C.length!==1?"replace":k?"toggle":"replace")!="toggle"||E||$||p&&w||!(k&&k.desc&&!B||!k.desc&&B)||(l="remove"),l==="replace"?H=[{id:i,desc:$?a:B}]:l==="add"?(H=[].concat(C,[{id:i,desc:$?a:B}])).splice(0,H.length-y):l==="toggle"?H=C.map(function(x){return x.id===i?d({},x,{desc:$?a:!k.desc}):x}):l==="remove"&&(H=C.filter(function(x){return x.id!==i})),d({},e,{sortBy:H})}}function vr(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.allColumns,i=e.orderByFn,a=i===void 0?yn:i,p=e.sortTypes,m=e.manualSortBy,R=e.defaultCanSort,E=e.disableSortBy,w=e.flatHeaders,S=e.state.sortBy,y=e.dispatch,C=e.plugins,B=e.getHooks,k=e.autoResetSortBy,T=k===void 0||k;ae(C,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var $=u.useCallback(function(L){y({type:f.setSortBy,sortBy:L})},[y]),H=u.useCallback(function(L,M,ee){y({type:f.toggleSortBy,columnId:L,desc:M,multi:ee})},[y]),x=Z(e);w.forEach(function(L){var M=L.accessor,ee=L.canSort,V=L.disableSortBy,Q=L.id,Y=M?Ee(V!==!0&&void 0,E!==!0&&void 0,!0):Ee(R,ee,!1);L.canSort=Y,L.canSort&&(L.toggleSortBy=function(G,J){return H(L.id,G,J)},L.clearSortBy=function(){y({type:f.clearSortBy,columnId:L.id})}),L.getSortByToggleProps=N(B().getSortByToggleProps,{instance:x(),column:L});var ne=S.find(function(G){return G.id===Q});L.isSorted=!!ne,L.sortedIndex=S.findIndex(function(G){return G.id===Q}),L.isSortedDesc=L.isSorted?ne.desc:void 0});var j=u.useMemo(function(){if(m||!S.length)return[n,r];var L=[],M=S.filter(function(ee){return l.find(function(V){return V.id===ee.id})});return[function ee(V){var Q=a(V,M.map(function(Y){var ne=l.find(function(ue){return ue.id===Y.id});if(!ne)throw new Error("React-Table: Could not find a column with id: "+Y.id+" while sorting");var G=ne.sortType,J=De(G)||(p||{})[G]||pr[G];if(!J)throw new Error("React-Table: Could not find a valid sortType of '"+G+"' for column '"+Y.id+"'.");return function(ue,ve){return J(ue,ve,Y.id,Y.desc)}}),M.map(function(Y){var ne=l.find(function(G){return G.id===Y.id});return ne&&ne.sortInverted?Y.desc:!Y.desc}));return Q.forEach(function(Y){L.push(Y),Y.subRows&&Y.subRows.length!==0&&(Y.subRows=ee(Y.subRows))}),Q}(n),L]},[m,S,n,r,l,a,p]),P=j[0],D=j[1],K=Z(T);se(function(){K()&&y({type:f.resetSortBy})},[m?null:t]),Object.assign(e,{preSortedRows:n,preSortedFlatRows:r,sortedRows:P,sortedFlatRows:D,rows:P,flatRows:D,setSortBy:$,toggleSortBy:H})}function yn(e,t,n){return[].concat(e).sort(function(r,l){for(var i=0;i<t.length;i+=1){var a=t[i],p=n[i]===!1||n[i]==="desc",m=a(r,l);if(m!==0)return p?-m:m}return n[0]?r.index-l.index:l.index-r.index})}f.resetPage="resetPage",f.gotoPage="gotoPage",f.setPageSize="setPageSize";var bn=function(e){e.stateReducers.push(Rr),e.useInstance.push(yr)};function Rr(e,t,n,r){if(t.type===f.init)return d({pageSize:10,pageIndex:0},e);if(t.type===f.resetPage)return d({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===f.gotoPage){var l=r.pageCount,i=r.page,a=ge(t.pageIndex,e.pageIndex),p=!1;return a>e.pageIndex?p=l===-1?i.length>=e.pageSize:a<l:a<e.pageIndex&&(p=a>-1),p?d({},e,{pageIndex:a}):e}if(t.type===f.setPageSize){var m=t.pageSize,R=e.pageSize*e.pageIndex;return d({},e,{pageIndex:Math.floor(R/m),pageSize:m})}}function yr(e){var t=e.rows,n=e.autoResetPage,r=n===void 0||n,l=e.manualExpandedKey,i=l===void 0?"expanded":l,a=e.plugins,p=e.pageCount,m=e.paginateExpandedRows,R=m===void 0||m,E=e.expandSubRows,w=E===void 0||E,S=e.state,y=S.pageSize,C=S.pageIndex,B=S.expanded,k=S.globalFilter,T=S.filters,$=S.groupBy,H=S.sortBy,x=e.dispatch,j=e.data,P=e.manualPagination;ae(a,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var D=Z(r);se(function(){D()&&x({type:f.resetPage})},[x,P?null:j,k,T,$,H]);var K=P?p:Math.ceil(t.length/y),L=u.useMemo(function(){return K>0?[].concat(new Array(K)).fill(null).map(function(J,ue){return ue}):[]},[K]),M=u.useMemo(function(){var J;if(P)J=t;else{var ue=y*C,ve=ue+y;J=t.slice(ue,ve)}return R?J:qe(J,{manualExpandedKey:i,expanded:B,expandSubRows:w})},[w,B,i,P,C,y,R,t]),ee=C>0,V=K===-1?M.length>=y:C<K-1,Q=u.useCallback(function(J){x({type:f.gotoPage,pageIndex:J})},[x]),Y=u.useCallback(function(){return Q(function(J){return J-1})},[Q]),ne=u.useCallback(function(){return Q(function(J){return J+1})},[Q]),G=u.useCallback(function(J){x({type:f.setPageSize,pageSize:J})},[x]);Object.assign(e,{pageOptions:L,pageCount:K,page:M,canPreviousPage:ee,canNextPage:V,gotoPage:Q,previousPage:Y,nextPage:ne,setPageSize:G})}bn.pluginName="usePagination",f.resetPivot="resetPivot",f.togglePivot="togglePivot";var wn=function(e){e.getPivotToggleProps=[br],e.stateReducers.push(wr),e.useInstanceAfterData.push(Sr),e.allColumns.push(Cr),e.accessValue.push(Er),e.materializedColumns.push(xr),e.materializedColumnsDeps.push(Ir),e.visibleColumns.push(Br),e.visibleColumnsDeps.push(kr),e.useInstance.push(zr),e.prepareRow.push(Pr)};wn.pluginName="usePivotColumns";var Sn=[],br=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(r){r.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function wr(e,t,n,r){if(t.type===f.init)return d({pivotColumns:Sn},e);if(t.type===f.resetPivot)return d({},e,{pivotColumns:r.initialState.pivotColumns||Sn});if(t.type===f.togglePivot){var l=t.columnId,i=t.value,a=i!==void 0?i:!e.pivotColumns.includes(l);return d({},e,a?{pivotColumns:[].concat(e.pivotColumns,[l])}:{pivotColumns:e.pivotColumns.filter(function(p){return p!==l})})}}function Sr(e){e.allColumns.forEach(function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)})}function Cr(e,t){var n=t.instance;return e.forEach(function(r){r.isPivotSource=n.state.pivotColumns.includes(r.id),r.uniqueValues=new Set}),e}function Er(e,t){var n=t.column;return n.uniqueValues&&e!==void 0&&n.uniqueValues.add(e),e}function xr(e,t){var n=t.instance,r=n.allColumns,l=n.state;if(!l.pivotColumns.length||!l.groupBy||!l.groupBy.length)return e;var i=l.pivotColumns.map(function(m){return r.find(function(R){return R.id===m})}).filter(Boolean),a=r.filter(function(m){return!m.isPivotSource&&!l.groupBy.includes(m.id)&&!l.pivotColumns.includes(m.id)}),p=re(function m(R,E,w){R===void 0&&(R=0),w===void 0&&(w=[]);var S=i[R];return S?Array.from(S.uniqueValues).sort().map(function(y){var C=d({},S,{Header:S.PivotHeader||typeof S.header=="string"?S.Header+": "+y:y,isPivotGroup:!0,parent:E,depth:R,id:E?E.id+"."+S.id+"."+y:S.id+"."+y,pivotValue:y});return C.columns=m(R+1,C,[].concat(w,[function(B){return B.values[S.id]===y}])),C}):a.map(function(y){return d({},y,{canPivot:!1,isPivoted:!0,parent:E,depth:R,id:""+(E?E.id+"."+y.id:y.id),accessor:function(C,B,k){if(w.every(function(T){return T(k)}))return k.values[y.id]}})})}());return[].concat(e,p)}function Ir(e,t){var n=t.instance.state,r=n.pivotColumns,l=n.groupBy;return[].concat(e,[r,l])}function Br(e,t){var n=t.instance.state;return e=e.filter(function(r){return!r.isPivotSource}),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter(function(r){return r.isGrouped||r.isPivoted})),e}function kr(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function zr(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,l=e.getHooks,i=e.plugins,a=e.dispatch,p=e.autoResetPivot,m=p===void 0||p,R=e.manaulPivot,E=e.disablePivot,w=e.defaultCanPivot;ae(i,["useGroupBy"],"usePivotColumns");var S=Z(e);n.forEach(function(C){var B=C.accessor,k=C.defaultPivot,T=C.disablePivot;C.canPivot=B?Ee(C.canPivot,T!==!0&&void 0,E!==!0&&void 0,!0):Ee(C.canPivot,k,w,!1),C.canPivot&&(C.togglePivot=function(){return e.togglePivot(C.id)}),C.Aggregated=C.Aggregated||C.Cell}),r.forEach(function(C){C.getPivotToggleProps=N(l().getPivotToggleProps,{instance:S(),header:C})});var y=Z(m);se(function(){y()&&a({type:f.resetPivot})},[a,R?null:t]),Object.assign(e,{togglePivot:function(C,B){a({type:f.togglePivot,columnId:C,value:B})}})}function Pr(e){e.allCells.forEach(function(t){t.isPivoted=t.column.isPivoted})}f.resetSelectedRows="resetSelectedRows",f.toggleAllRowsSelected="toggleAllRowsSelected",f.toggleRowSelected="toggleRowSelected",f.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var Cn=function(e){e.getToggleRowSelectedProps=[Fr],e.getToggleAllRowsSelectedProps=[Wr],e.getToggleAllPageRowsSelectedProps=[Hr],e.stateReducers.push(Tr),e.useInstance.push(Gr),e.prepareRow.push(Ar)};Cn.pluginName="useRowSelect";var Fr=function(e,t){var n=t.instance,r=t.row,l=n.manualRowSelectedKey,i=l===void 0?"isSelected":l;return[e,{onChange:function(a){r.toggleRowSelected(a.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[i])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},Wr=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleAllRowsSelected(r.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},Hr=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleAllPageRowsSelected(r.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!n.isAllPageRowsSelected&&n.page.some(function(r){var l=r.id;return n.state.selectedRowIds[l]}))}]};function Tr(e,t,n,r){if(t.type===f.init)return d({selectedRowIds:{}},e);if(t.type===f.resetSelectedRows)return d({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===f.toggleAllRowsSelected){var l=t.value,i=r.isAllRowsSelected,a=r.rowsById,p=r.nonGroupedRowsById,m=p===void 0?a:p,R=l!==void 0?l:!i,E=Object.assign({},e.selectedRowIds);return R?Object.keys(m).forEach(function(Q){E[Q]=!0}):Object.keys(m).forEach(function(Q){delete E[Q]}),d({},e,{selectedRowIds:E})}if(t.type===f.toggleRowSelected){var w=t.id,S=t.value,y=r.rowsById,C=r.selectSubRows,B=C===void 0||C,k=r.getSubRows,T=e.selectedRowIds[w],$=S!==void 0?S:!T;if(T===$)return e;var H=d({},e.selectedRowIds);return function Q(Y){var ne=y[Y];if(ne&&(ne.isGrouped||($?H[Y]=!0:delete H[Y]),B&&k(ne)))return k(ne).forEach(function(G){return Q(G.id)})}(w),d({},e,{selectedRowIds:H})}if(t.type===f.toggleAllPageRowsSelected){var x=t.value,j=r.page,P=r.rowsById,D=r.selectSubRows,K=D===void 0||D,L=r.isAllPageRowsSelected,M=r.getSubRows,ee=x!==void 0?x:!L,V=d({},e.selectedRowIds);return j.forEach(function(Q){return function Y(ne){var G=P[ne];if(G.isGrouped||(ee?V[ne]=!0:delete V[ne]),K&&M(G))return M(G).forEach(function(J){return Y(J.id)})}(Q.id)}),d({},e,{selectedRowIds:V})}return e}function Gr(e){var t=e.data,n=e.rows,r=e.getHooks,l=e.plugins,i=e.rowsById,a=e.nonGroupedRowsById,p=a===void 0?i:a,m=e.autoResetSelectedRows,R=m===void 0||m,E=e.state.selectedRowIds,w=e.selectSubRows,S=w===void 0||w,y=e.dispatch,C=e.page,B=e.getSubRows;ae(l,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var k=u.useMemo(function(){var M=[];return n.forEach(function(ee){var V=S?function Q(Y,ne,G){if(ne[Y.id])return!0;var J=G(Y);if(J&&J.length){var ue=!0,ve=!1;return J.forEach(function(O){ve&&!ue||(Q(O,ne,G)?ve=!0:ue=!1)}),!!ue||!!ve&&null}return!1}(ee,E,B):!!E[ee.id];ee.isSelected=!!V,ee.isSomeSelected=V===null,V&&M.push(ee)}),M},[n,S,E,B]),T=!!(Object.keys(p).length&&Object.keys(E).length),$=T;T&&Object.keys(p).some(function(M){return!E[M]})&&(T=!1),T||C&&C.length&&C.some(function(M){var ee=M.id;return!E[ee]})&&($=!1);var H=Z(R);se(function(){H()&&y({type:f.resetSelectedRows})},[y,t]);var x=u.useCallback(function(M){return y({type:f.toggleAllRowsSelected,value:M})},[y]),j=u.useCallback(function(M){return y({type:f.toggleAllPageRowsSelected,value:M})},[y]),P=u.useCallback(function(M,ee){return y({type:f.toggleRowSelected,id:M,value:ee})},[y]),D=Z(e),K=N(r().getToggleAllRowsSelectedProps,{instance:D()}),L=N(r().getToggleAllPageRowsSelectedProps,{instance:D()});Object.assign(e,{selectedFlatRows:k,isAllRowsSelected:T,isAllPageRowsSelected:$,toggleRowSelected:P,toggleAllRowsSelected:x,getToggleAllRowsSelectedProps:K,getToggleAllPageRowsSelectedProps:L,toggleAllPageRowsSelected:j})}function Ar(e,t){var n=t.instance;e.toggleRowSelected=function(r){return n.toggleRowSelected(e.id,r)},e.getToggleRowSelectedProps=N(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var En=function(e){return{}},xn=function(e){return{}};f.setRowState="setRowState",f.setCellState="setCellState",f.resetRowState="resetRowState";var In=function(e){e.stateReducers.push(Nr),e.useInstance.push(Lr),e.prepareRow.push(Or)};function Nr(e,t,n,r){var l=r.initialRowStateAccessor,i=l===void 0?En:l,a=r.initialCellStateAccessor,p=a===void 0?xn:a,m=r.rowsById;if(t.type===f.init)return d({rowState:{}},e);if(t.type===f.resetRowState)return d({},e,{rowState:r.initialState.rowState||{}});if(t.type===f.setRowState){var R,E=t.rowId,w=t.value,S=e.rowState[E]!==void 0?e.rowState[E]:i(m[E]);return d({},e,{rowState:d({},e.rowState,(R={},R[E]=ge(w,S),R))})}if(t.type===f.setCellState){var y,C,B,k,T,$=t.rowId,H=t.columnId,x=t.value,j=e.rowState[$]!==void 0?e.rowState[$]:i(m[$]),P=(j==null||(y=j.cellState)==null?void 0:y[H])!==void 0?j.cellState[H]:p((C=m[$])==null||(B=C.cells)==null?void 0:B.find(function(D){return D.column.id===H}));return d({},e,{rowState:d({},e.rowState,(T={},T[$]=d({},j,{cellState:d({},j.cellState||{},(k={},k[H]=ge(x,P),k))}),T))})}}function Lr(e){var t=e.autoResetRowState,n=t===void 0||t,r=e.data,l=e.dispatch,i=u.useCallback(function(m,R){return l({type:f.setRowState,rowId:m,value:R})},[l]),a=u.useCallback(function(m,R,E){return l({type:f.setCellState,rowId:m,columnId:R,value:E})},[l]),p=Z(n);se(function(){p()&&l({type:f.resetRowState})},[r]),Object.assign(e,{setRowState:i,setCellState:a})}function Or(e,t){var n=t.instance,r=n.initialRowStateAccessor,l=r===void 0?En:r,i=n.initialCellStateAccessor,a=i===void 0?xn:i,p=n.state.rowState;e&&(e.state=p[e.id]!==void 0?p[e.id]:l(e),e.setState=function(m){return n.setRowState(e.id,m)},e.cells.forEach(function(m){e.state.cellState||(e.state.cellState={}),m.state=e.state.cellState[m.column.id]!==void 0?e.state.cellState[m.column.id]:a(m),m.setState=function(R){return n.setCellState(e.id,m.column.id,R)}}))}In.pluginName="useRowState",f.resetColumnOrder="resetColumnOrder",f.setColumnOrder="setColumnOrder";var Bn=function(e){e.stateReducers.push(Mr),e.visibleColumnsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.columnOrder])}),e.visibleColumns.push(Dr),e.useInstance.push(Vr)};function Mr(e,t,n,r){return t.type===f.init?d({columnOrder:[]},e):t.type===f.resetColumnOrder?d({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===f.setColumnOrder?d({},e,{columnOrder:ge(t.columnOrder,e.columnOrder)}):void 0}function Dr(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),l=[].concat(e),i=[],a=function(){var p=r.shift(),m=l.findIndex(function(R){return R.id===p});m>-1&&i.push(l.splice(m,1)[0])};l.length&&r.length;)a();return[].concat(i,l)}function Vr(e){var t=e.dispatch;e.setColumnOrder=u.useCallback(function(n){return t({type:f.setColumnOrder,columnOrder:n})},[t])}Bn.pluginName="useColumnOrder",A.canResize=!0,f.columnStartResizing="columnStartResizing",f.columnResizing="columnResizing",f.columnDoneResizing="columnDoneResizing",f.resetResize="resetResize";var kn=function(e){e.getResizerProps=[jr],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(_r),e.useInstance.push($r),e.useInstanceBeforeDimensions.push(Xr)},jr=function(e,t){var n=t.instance,r=t.header,l=n.dispatch,i=function(a,p){var m=!1;if(a.type==="touchstart"){if(a.touches&&a.touches.length>1)return;m=!0}var R,E,w=function(H){var x=[];return function j(P){P.columns&&P.columns.length&&P.columns.map(j),x.push(P)}(H),x}(p).map(function(H){return[H.id,H.totalWidth]}),S=m?Math.round(a.touches[0].clientX):a.clientX,y=function(){window.cancelAnimationFrame(R),R=null,l({type:f.columnDoneResizing})},C=function(){window.cancelAnimationFrame(R),R=null,l({type:f.columnResizing,clientX:E})},B=function(H){E=H,R||(R=window.requestAnimationFrame(C))},k={mouse:{moveEvent:"mousemove",moveHandler:function(H){return B(H.clientX)},upEvent:"mouseup",upHandler:function(H){document.removeEventListener("mousemove",k.mouse.moveHandler),document.removeEventListener("mouseup",k.mouse.upHandler),y()}},touch:{moveEvent:"touchmove",moveHandler:function(H){return H.cancelable&&(H.preventDefault(),H.stopPropagation()),B(H.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(H){document.removeEventListener(k.touch.moveEvent,k.touch.moveHandler),document.removeEventListener(k.touch.upEvent,k.touch.moveHandler),y()}}},T=m?k.touch:k.mouse,$=!!function(){if(typeof Ke=="boolean")return Ke;var H=!1;try{var x={get passive(){return H=!0,!1}};window.addEventListener("test",null,x),window.removeEventListener("test",null,x)}catch{H=!1}return Ke=H}()&&{passive:!1};document.addEventListener(T.moveEvent,T.moveHandler,$),document.addEventListener(T.upEvent,T.upHandler,$),l({type:f.columnStartResizing,columnId:p.id,columnWidth:p.totalWidth,headerIdWidths:w,clientX:S})};return[e,{onMouseDown:function(a){return a.persist()||i(a,r)},onTouchStart:function(a){return a.persist()||i(a,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function _r(e,t){if(t.type===f.init)return d({columnResizing:{columnWidths:{}}},e);if(t.type===f.resetResize)return d({},e,{columnResizing:{columnWidths:{}}});if(t.type===f.columnStartResizing){var n=t.clientX,r=t.columnId,l=t.columnWidth,i=t.headerIdWidths;return d({},e,{columnResizing:d({},e.columnResizing,{startX:n,headerIdWidths:i,columnWidth:l,isResizingColumn:r})})}if(t.type===f.columnResizing){var a=t.clientX,p=e.columnResizing,m=p.startX,R=p.columnWidth,E=p.headerIdWidths,w=(a-m)/R,S={};return(E===void 0?[]:E).forEach(function(y){var C=y[0],B=y[1];S[C]=Math.max(B+B*w,0)}),d({},e,{columnResizing:d({},e.columnResizing,{columnWidths:d({},e.columnResizing.columnWidths,{},S)})})}return t.type===f.columnDoneResizing?d({},e,{columnResizing:d({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}kn.pluginName="useResizeColumns";var Xr=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,l=e.state.columnResizing,i=Z(e);t.forEach(function(a){var p=Ee(a.disableResizing!==!0&&void 0,n!==!0&&void 0,!0);a.canResize=p,a.width=l.columnWidths[a.id]||a.originalWidth||a.width,a.isResizing=l.isResizingColumn===a.id,p&&(a.getResizerProps=N(r().getResizerProps,{instance:i(),header:a}))})};function $r(e){var t=e.plugins,n=e.dispatch,r=e.autoResetResize,l=r===void 0||r,i=e.columns;ae(t,["useAbsoluteLayout"],"useResizeColumns");var a=Z(l);se(function(){a()&&n({type:f.resetResize})},[i]);var p=u.useCallback(function(){return n({type:f.resetResize})},[n]);Object.assign(e,{resetResizing:p})}var on={position:"absolute",top:0},zn=function(e){e.getTableBodyProps.push(Nt),e.getRowProps.push(Nt),e.getHeaderGroupProps.push(Nt),e.getFooterGroupProps.push(Nt),e.getHeaderProps.push(function(t,n){var r=n.column;return[t,{style:d({},on,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]}),e.getCellProps.push(function(t,n){var r=n.cell;return[t,{style:d({},on,{left:r.column.totalLeft+"px",width:r.column.totalWidth+"px"})}]}),e.getFooterProps.push(function(t,n){var r=n.column;return[t,{style:d({},on,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]})};zn.pluginName="useAbsoluteLayout";var Nt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},sn={display:"inline-block",boxSizing:"border-box"},ln=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Pn=function(e){e.getRowProps.push(ln),e.getHeaderGroupProps.push(ln),e.getFooterGroupProps.push(ln),e.getHeaderProps.push(function(t,n){var r=n.column;return[t,{style:d({},sn,{width:r.totalWidth+"px"})}]}),e.getCellProps.push(function(t,n){var r=n.cell;return[t,{style:d({},sn,{width:r.column.totalWidth+"px"})}]}),e.getFooterProps.push(function(t,n){var r=n.column;return[t,{style:d({},sn,{width:r.totalWidth+"px"})}]})};function Fn(e){e.getTableProps.push(qr),e.getRowProps.push(un),e.getHeaderGroupProps.push(un),e.getFooterGroupProps.push(un),e.getHeaderProps.push(Kr),e.getCellProps.push(Ur),e.getFooterProps.push(Jr)}Pn.pluginName="useBlockLayout",Fn.pluginName="useFlexLayout";var qr=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},un=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Kr=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Ur=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Jr=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Wn(e){e.stateReducers.push(eo),e.getTableProps.push(Yr),e.getHeaderProps.push(Zr),e.getRowProps.push(Qr)}f.columnStartResizing="columnStartResizing",f.columnResizing="columnResizing",f.columnDoneResizing="columnDoneResizing",f.resetResize="resetResize",Wn.pluginName="useGridLayout";var Yr=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map(function(r){var l;return n.state.gridLayout.columnWidths[r.id]?n.state.gridLayout.columnWidths[r.id]+"px":(l=n.state.columnResizing)!=null&&l.isResizingColumn?n.state.gridLayout.startWidths[r.id]+"px":typeof r.width=="number"?r.width+"px":r.width}).join(" ")}}]},Zr=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},Qr=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function eo(e,t,n,r){if(t.type===f.init)return d({gridLayout:{columnWidths:{}}},e);if(t.type===f.resetResize)return d({},e,{gridLayout:{columnWidths:{}}});if(t.type===f.columnStartResizing){var l=t.columnId,i=t.headerIdWidths,a=an(l);if(a!==void 0){var p=r.visibleColumns.reduce(function(x,j){var P;return d({},x,((P={})[j.id]=an(j.id),P))},{}),m=r.visibleColumns.reduce(function(x,j){var P;return d({},x,((P={})[j.id]=j.minWidth,P))},{}),R=r.visibleColumns.reduce(function(x,j){var P;return d({},x,((P={})[j.id]=j.maxWidth,P))},{}),E=i.map(function(x){var j=x[0];return[j,an(j)]});return d({},e,{gridLayout:d({},e.gridLayout,{startWidths:p,minWidths:m,maxWidths:R,headerIdGridWidths:E,columnWidth:a})})}return e}if(t.type===f.columnResizing){var w=t.clientX,S=e.columnResizing.startX,y=e.gridLayout,C=y.columnWidth,B=y.minWidths,k=y.maxWidths,T=y.headerIdGridWidths,$=(w-S)/C,H={};return(T===void 0?[]:T).forEach(function(x){var j=x[0],P=x[1];H[j]=Math.min(Math.max(B[j],P+P*$),k[j])}),d({},e,{gridLayout:d({},e.gridLayout,{columnWidths:d({},e.gridLayout.columnWidths,{},H)})})}return t.type===f.columnDoneResizing?d({},e,{gridLayout:d({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function an(e){var t,n=(t=document.getElementById("header-cell-"+e))==null?void 0:t.offsetWidth;if(n!==void 0)return n}c._UNSTABLE_usePivotColumns=wn,c.actions=f,c.defaultColumn=A,c.defaultGroupByFn=it,c.defaultOrderByFn=yn,c.defaultRenderer=W,c.emptyRenderer=F,c.ensurePluginOrder=ae,c.flexRender=Se,c.functionalUpdate=ge,c.loopHooks=fe,c.makePropGetter=N,c.makeRenderer=Pe,c.reduceHooks=oe,c.safeUseLayoutEffect=te,c.useAbsoluteLayout=zn,c.useAsyncDebounce=function(e,t){t===void 0&&(t=0);var n=u.useRef({}),r=Z(e),l=Z(t);return u.useCallback(function(){var i=v(regeneratorRuntime.mark(function a(){var p,m,R,E=arguments;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:for(p=E.length,m=new Array(p),R=0;R<p;R++)m[R]=E[R];return n.current.promise||(n.current.promise=new Promise(function(S,y){n.current.resolve=S,n.current.reject=y})),n.current.timeout&&clearTimeout(n.current.timeout),n.current.timeout=setTimeout(v(regeneratorRuntime.mark(function S(){return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return delete n.current.timeout,y.prev=1,y.t0=n.current,y.next=5,r().apply(void 0,m);case 5:y.t1=y.sent,y.t0.resolve.call(y.t0,y.t1),y.next=12;break;case 9:y.prev=9,y.t2=y.catch(1),n.current.reject(y.t2);case 12:return y.prev=12,delete n.current.promise,y.finish(12);case 15:case"end":return y.stop()}},S,null,[[1,9,12,15]])})),l()),w.abrupt("return",n.current.promise);case 5:case"end":return w.stop()}},a)}));return function(){return i.apply(this,arguments)}}(),[r,l])},c.useBlockLayout=Pn,c.useColumnOrder=Bn,c.useExpanded=He,c.useFilters=pt,c.useFlexLayout=Fn,c.useGetLatest=Z,c.useGlobalFilter=Ft,c.useGridLayout=Wn,c.useGroupBy=Gt,c.useMountedLayoutEffect=se,c.usePagination=bn,c.useResizeColumns=kn,c.useRowSelect=Cn,c.useRowState=In,c.useSortBy=Rn,c.useTable=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=he(e),n=[Qe].concat(n);var l=u.useRef({}),i=Z(l.current);Object.assign(i(),d({},e,{plugins:n,hooks:ut()})),n.filter(Boolean).forEach(function(O){O(i().hooks)});var a=Z(i().hooks);i().getHooks=a,delete i().hooks,Object.assign(i(),oe(a().useOptions,he(e)));var p=i(),m=p.data,R=p.columns,E=p.initialState,w=p.defaultColumn,S=p.getSubRows,y=p.getRowId,C=p.stateReducer,B=p.useControlledState,k=Z(C),T=u.useCallback(function(O,le){if(!le.type)throw console.info({action:le}),new Error("Unknown Action 👆");return[].concat(a().stateReducers,Array.isArray(k())?k():[k()]).reduce(function(ce,Re){return Re(ce,le,O,i())||ce},O)},[a,k,i]),$=u.useReducer(T,void 0,function(){return T(E,{type:f.init})}),H=$[0],x=$[1],j=oe([].concat(a().useControlledState,[B]),H,{instance:i()});Object.assign(i(),{state:j,dispatch:x});var P=u.useMemo(function(){return Ge(oe(a().columns,R,{instance:i()}))},[a,i,R].concat(oe(a().columnsDeps,[],{instance:i()})));i().columns=P;var D=u.useMemo(function(){return oe(a().allColumns,re(P),{instance:i()}).map(Ce)},[P,a,i].concat(oe(a().allColumnsDeps,[],{instance:i()})));i().allColumns=D;var K=u.useMemo(function(){for(var O=[],le=[],ce={},Re=[].concat(D);Re.length;){var me=Re.shift();Be({data:m,rows:O,flatRows:le,rowsById:ce,column:me,getRowId:y,getSubRows:S,accessValueHooks:a().accessValue,getInstance:i})}return[O,le,ce]},[D,m,y,S,a,i]),L=K[0],M=K[1],ee=K[2];Object.assign(i(),{rows:L,initialRows:[].concat(L),flatRows:M,rowsById:ee}),fe(a().useInstanceAfterData,i());var V=u.useMemo(function(){return oe(a().visibleColumns,D,{instance:i()}).map(function(O){return ze(O,w)})},[a,D,i,w].concat(oe(a().visibleColumnsDeps,[],{instance:i()})));D=u.useMemo(function(){var O=[].concat(V);return D.forEach(function(le){O.find(function(ce){return ce.id===le.id})||O.push(le)}),O},[D,V]),i().allColumns=D;var Q=u.useMemo(function(){return oe(a().headerGroups,Kt(V,w),i())},[a,V,w,i].concat(oe(a().headerGroupsDeps,[],{instance:i()})));i().headerGroups=Q;var Y=u.useMemo(function(){return Q.length?Q[0].headers:[]},[Q]);i().headers=Y,i().flatHeaders=Q.reduce(function(O,le){return[].concat(O,le.headers)},[]),fe(a().useInstanceBeforeDimensions,i());var ne=V.filter(function(O){return O.isVisible}).map(function(O){return O.id}).sort().join("_");V=u.useMemo(function(){return V.filter(function(O){return O.isVisible})},[V,ne]),i().visibleColumns=V;var G=xt(Y),J=G[0],ue=G[1],ve=G[2];return i().totalColumnsMinWidth=J,i().totalColumnsWidth=ue,i().totalColumnsMaxWidth=ve,fe(a().useInstance,i()),[].concat(i().flatHeaders,i().allColumns).forEach(function(O){O.render=Pe(i(),O),O.getHeaderProps=N(a().getHeaderProps,{instance:i(),column:O}),O.getFooterProps=N(a().getFooterProps,{instance:i(),column:O})}),i().headerGroups=u.useMemo(function(){return Q.filter(function(O,le){return O.headers=O.headers.filter(function(ce){return ce.headers?function Re(me){return me.filter(function(Oe){return Oe.headers?Re(Oe.headers):Oe.isVisible}).length}(ce.headers):ce.isVisible}),!!O.headers.length&&(O.getHeaderGroupProps=N(a().getHeaderGroupProps,{instance:i(),headerGroup:O,index:le}),O.getFooterGroupProps=N(a().getFooterGroupProps,{instance:i(),headerGroup:O,index:le}),!0)})},[Q,i,a]),i().footerGroups=[].concat(i().headerGroups).reverse(),i().prepareRow=u.useCallback(function(O){O.getRowProps=N(a().getRowProps,{instance:i(),row:O}),O.allCells=D.map(function(le){var ce=O.values[le.id],Re={column:le,row:O,value:ce};return Re.getCellProps=N(a().getCellProps,{instance:i(),cell:Re}),Re.render=Pe(i(),le,{row:O,cell:Re,value:ce}),Re}),O.cells=V.map(function(le){return O.allCells.find(function(ce){return ce.column.id===le.id})}),fe(a().prepareRow,O,{instance:i()})},[a,i,D,V]),i().getTableProps=N(a().getTableProps,{instance:i()}),i().getTableBodyProps=N(a().getTableBodyProps,{instance:i()}),fe(a().useFinalInstance,i()),i()},Object.defineProperty(c,"__esModule",{value:!0})})})(gn,gn.exports);var Co=gn.exports;Yn.exports=Co;var U=Yn.exports;const Zn=(o,s)=>{const c={};if(c.flex="1 1 145px",o.width){const u=typeof o.width=="string"?o.width:`${o.width}px`;c.width=u,s&&o.canResize?c.flex=`${Number(o.width)} ${Number(o.width)} ${u}`:c.flex=`0 0 ${u}`}return o.maxWidth&&(c.maxWidth=`${o.maxWidth}px`),o.minWidth&&(c.minWidth=`${o.minWidth}px`),c},Qn=(o,s)=>{if(!o.sticky)return{};let c=0;for(const g of s){if(g.id===o.id)break;c+=Number(g.width||g.resizeWidth||0)}let u=0;for(const g of[...s].reverse()){if(g.id===o.id)break;u+=Number(g.width||g.resizeWidth||0)}return{"--iui-table-sticky-left":o.sticky==="left"?`${c}px`:void 0,"--iui-table-sticky-right":o.sticky==="right"?`${u}px`:void 0}},er=({density:o="default",depth:s=1})=>{let c=16,u=8;o==="condensed"?(c=12,u=4):o==="extra-condensed"&&(c=8,u=4);const g=26+u;return{paddingInlineStart:c+s*g}},Eo=o=>{const{cell:s,isDisabled:c,cellProps:u,expanderCell:g,density:v}=o;return h.createElement(h.Fragment,null,g?g(u):h.createElement(mn,{"aria-label":"Toggle sub row","aria-expanded":s.row.isExpanded?"true":"false",style:{marginInlineEnd:v==="default"||v===void 0?8:4},className:"iui-table-row-expander",styleType:"borderless",size:"small",onClick:d=>{d.stopPropagation(),s.row.toggleRowExpanded()},disabled:c},h.createElement(Jn,{style:{transform:s.row.isExpanded?"rotate(90deg)":void 0}})))},hn=o=>{const{cellElementProps:{className:s,style:c,...u},children:g,startIcon:v,endIcon:d,cellProps:b,isDisabled:z,className:f,style:W,status:F,...A}=o;return h.createElement(ie,{...u,...A,className:Ie(s,f),"aria-disabled":(z==null?void 0:z(b.row.original))||void 0,"data-iui-status":F,style:{...c,...W}},v&&h.createElement(ie,{className:"iui-table-cell-start-icon"},v),g,d&&h.createElement(ie,{className:"iui-table-cell-end-icon"},d))},bt="iui-table-checkbox-selector",xo=(o={})=>{const{isDisabled:s,density:c}=o,u=c==="condensed"?42:c==="extra-condensed"?34:48;return{id:bt,disableResizing:!0,disableGroupBy:!0,disableReordering:!0,minWidth:u,width:u,maxWidth:u,columnClassName:"iui-slot",cellClassName:"iui-slot",Header:({getToggleAllRowsSelectedProps:g,toggleAllRowsSelected:v,rows:d,preFilteredFlatRows:b,state:z})=>{const f=b.every(A=>s==null?void 0:s(A.original)),W=b.every(A=>z.selectedRowIds[A.id]||(s==null?void 0:s(A.original))),F=!W&&Object.keys(z.selectedRowIds).length>0;return h.createElement(Mn,{...g(),style:{},title:"",checked:W&&!f,indeterminate:F,disabled:f,onChange:()=>v(!d.some(A=>A.isSelected))})},Cell:({row:g})=>h.createElement(Mn,{...g.getToggleRowSelectedProps(),style:{},title:"",disabled:s==null?void 0:s(g.original),onClick:v=>v.stopPropagation()}),cellRenderer:g=>h.createElement(hn,{...g,isDisabled:v=>!!(s!=null&&s(v))})}},tr="iui-table-expander",Io=(o={})=>{const{subComponent:s,isDisabled:c}=o;return{id:tr,disableResizing:!0,disableGroupBy:!0,disableReordering:!0,minWidth:48,width:48,maxWidth:48,columnClassName:"iui-slot",cellClassName:"iui-slot",Cell:u=>{const{row:g}=u;return s!=null&&s(g)?h.createElement(mn,{className:"iui-table-row-expander",styleType:"borderless",size:"small",onClick:v=>{v.stopPropagation(),g.toggleRowExpanded()},disabled:c==null?void 0:c(u.row.original),"aria-expanded":g.isExpanded},h.createElement(Jn,null)):null},cellRenderer:u=>h.createElement(hn,{...u,isDisabled:g=>!!(c!=null&&c(g))})}},Bo=o=>{const{cell:s,cellIndex:c,isDisabled:u,tableHasSubRows:g,tableInstance:v,expanderCell:d,density:b}=o,z=c===s.row.cells.findIndex(q=>q.column.id!==bt),f=s.getCellProps({className:Ie("iui-table-cell",s.column.cellClassName,{"iui-table-cell-sticky":!!s.column.sticky}),style:{...Zn(s.column,!!v.state.isTableResizing),...g&&z&&er({density:b,depth:s.row.depth+(s.row.canExpand?0:1)}),...Qn(s.column,v.visibleColumns)}}),W={...v,cell:s,row:s.row,value:s.value,column:s.column},F=h.createElement(h.Fragment,null,g&&z&&s.row.canExpand&&h.createElement(Eo,{cell:s,isDisabled:u,cellProps:W,expanderCell:d,density:b}),s.render("Cell")),A={cellElementProps:f,cellProps:W,children:h.createElement(h.Fragment,null,F,s.column.sticky==="left"&&v.state.sticky.isScrolledToRight&&h.createElement(ie,{className:"iui-table-cell-shadow-right"}),s.column.sticky==="right"&&v.state.sticky.isScrolledToLeft&&h.createElement(ie,{className:"iui-table-cell-shadow-left"}))};return h.createElement(h.Fragment,null,s.column.cellRenderer?s.column.cellRenderer({...A,isDisabled:()=>u}):h.createElement(hn,{...A,isDisabled:()=>u}))},ko=o=>{const{row:s,rowProps:c,isLast:u,onRowInViewport:g,onBottomReached:v,intersectionMargin:d,onClick:b,subComponent:z,isDisabled:f,tableHasSubRows:W,tableInstance:F,expanderCell:A,bodyRef:q,tableRowRef:N,density:oe}=o,fe=h.useCallback(()=>{var re,Ce;(re=g.current)==null||re.call(g,s.original),u&&((Ce=v.current)==null||Ce.call(v))},[u,v,g,s.original]),ae=h.useMemo(()=>{if(((q==null?void 0:q.scrollHeight)??0)>((q==null?void 0:q.offsetHeight)??0))return q},[q]),ge=mo(fe,{rootMargin:`${d}px`,root:ae}),Z=(c==null?void 0:c(s))??{},{status:te,isLoading:se,...Pe}=Z,Se={...s.getRowProps({style:{flex:"0 0 auto",minWidth:"100%"}}),...Pe,className:Ie("iui-table-row",{"iui-table-row-expanded":s.isExpanded&&z,"iui-loading":se},Z==null?void 0:Z.className),"aria-selected":s.isSelected||void 0,"aria-disabled":f||void 0,"data-iui-status":te},Ge=ao(ge,Se.ref,N);return h.createElement(h.Fragment,null,h.createElement(ie,{...Se,ref:Ge,onClick:re=>{var Ce;(Ce=Se==null?void 0:Se.onClick)==null||Ce.call(Se,re),b==null||b(re,s)}},s.cells.map((re,Ce)=>h.createElement(Bo,{key:re.getCellProps().key,cell:re,cellIndex:Ce,isDisabled:f,tableHasSubRows:W,tableInstance:F,expanderCell:A,density:oe}))),z&&h.createElement(ho,{in:s.isExpanded},h.createElement(ie,{className:Ie("iui-table-row","iui-table-expanded-content"),"aria-disabled":f},z(s))))},pn=(o,s)=>s!=null&&s[o.id]?!0:o.subRows.some(c=>pn(c,s)),zo=h.memo(ko,(o,s)=>{var c,u,g,v,d,b,z;return o.isLast===s.isLast&&((c=o.state.hiddenColumns)==null?void 0:c.length)===((u=s.state.hiddenColumns)==null?void 0:u.length)&&!!((g=o.state.hiddenColumns)!=null&&g.every((f,W)=>{var F;return((F=s.state.hiddenColumns)==null?void 0:F[W])===f}))&&o.onRowInViewport===s.onRowInViewport&&o.onBottomReached===s.onBottomReached&&o.onClick===s.onClick&&o.row.original===s.row.original&&((v=o.state.selectedRowIds)==null?void 0:v[o.row.id])===((d=s.state.selectedRowIds)==null?void 0:d[s.row.id])&&o.row.subRows.some(f=>pn(f,o.state.selectedRowIds))===s.row.subRows.some(f=>pn(f,s.state.selectedRowIds))&&((b=o.state.expanded)==null?void 0:b[o.row.id])===((z=s.state.expanded)==null?void 0:z[s.row.id])&&o.subComponent===s.subComponent&&o.row.cells.every((f,W)=>s.row.cells[W].column===f.column)&&o.isDisabled===s.isDisabled&&o.rowProps===s.rowProps&&o.expanderCell===s.expanderCell&&o.tableHasSubRows===s.tableHasSubRows&&o.bodyRef===s.bodyRef&&o.state.columnOrder===s.state.columnOrder&&!s.state.columnResizing.isResizingColumn&&o.state.isTableResizing===s.state.isTableResizing&&o.state.sticky.isScrolledToLeft===s.state.sticky.isScrolledToLeft&&o.state.sticky.isScrolledToRight===s.state.sticky.isScrolledToRight&&o.density===s.density}),Po=o=>{const{column:s,className:c,...u}=o;Un();const[g,v]=h.useState(!1),d=h.useCallback(()=>v(!1),[]),b=h.useCallback(W=>{s.setFilter(W),d()},[d,s]),z=h.useCallback(()=>{s.setFilter(void 0),d()},[d,s]),f=s.filterValue!=null&&s.filterValue!=="";return h.createElement(h.Fragment,null,s.canFilter&&s.Filter&&h.createElement(Ro,{content:s.render("Filter",{close:d,setFilter:b,clearFilter:z}),placement:"bottom-start",visible:g,onVisibleChange:v,closeOnOutsideClick:!0,applyBackground:!0},h.createElement(mn,{styleType:"borderless",isActive:g||f,className:Ie("iui-table-filter-button",c),"aria-label":"Filter",onClick:W=>{W.stopPropagation()},...u},f?h.createElement(wo,null):h.createElement(So,null))))},Xt=o=>!!o&&!isNaN(o.valueOf()),nr=(o,s,c)=>{const[u,g]=c||[],v=864e13,d=Xt(u)?u:new Date(-v),b=Xt(g)?g:new Date(v);return o.filter(z=>s.some(f=>{const W=z.values[f];return W.valueOf()>=d.valueOf()&&W.valueOf()<=b.valueOf()}))};nr.autoRemove=o=>!o||!Xt(o[0])&&!Xt(o[1]);const Fo={betweenDate:nr},Wo=(o,s,c)=>u=>{o&&u.allColumns.push(g=>{if(g.find(b=>b.id===tr))return g;const d=Io({subComponent:o,isDisabled:c});return[{...d,Cell:s?b=>h.createElement(h.Fragment,null,s(b)):d.Cell},...g]})},Ho=(o,s,c,u="default")=>g=>{o&&g.allColumns.push(v=>s==="single"||v.find(d=>d.id===bt)?v:[xo({isDisabled:c,density:u}),...v])},rr=(o,s,c)=>(o=o.filter(u=>s.some(g=>{const v=u.values[g];return String(v).toLowerCase().includes(String(c).toLowerCase())})),o);rr.autoRemove=o=>!o;const or=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return v!==void 0?String(v).toLowerCase()===String(c).toLowerCase():!0}));or.autoRemove=o=>!o;const ir=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return v!==void 0?String(v)===String(c):!0}));ir.autoRemove=o=>!o;const sr=(o,s,c)=>o.filter(u=>s.some(g=>u.values[g].includes(c)));sr.autoRemove=o=>!o||!o.length;const lr=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return v&&v.length&&c.every(d=>v.includes(d))}));lr.autoRemove=o=>!o||!o.length;const ur=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return v&&v.length&&c.some(d=>v.includes(d))}));ur.autoRemove=o=>!o||!o.length;const ar=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return c.includes(v)}));ar.autoRemove=o=>!o||!o.length;const cr=(o,s,c)=>{let[u,g]=c||[];if(u=typeof u=="number"?u:-1/0,g=typeof g=="number"?g:1/0,u>g){const v=u;u=g,g=v}return o.filter(v=>s.some(d=>{const b=v.values[d];return b>=u&&b<=g}))};cr.autoRemove=o=>!o||typeof o[0]!="number"&&typeof o[1]!="number";const To={text:rr,exactText:or,exactTextCase:ir,includes:sr,includesAll:lr,includesSome:ur,includesValue:ar,between:cr},Go=o=>s=>{s.useInstance.push(Ao.bind({},o))},Ao=(o,s)=>{const c=d=>{d.forEach(b=>{b.initialSubRows||(b.initialSubRows=b.subRows),c(b.subRows)})};c(s.initialRows);const{filteredRows:u=s.filteredRows,filteredFlatRows:g=s.filteredFlatRows,filteredRowsById:v=s.filteredRowsById}=h.useMemo(()=>{if(!o)return{};const d=A=>{A.forEach(q=>{q.subRows=q.initialSubRows??[],d(q.subRows)})};d(s.initialRows);let b=[...s.initialRows];s.state.filters.forEach(({id:A,value:q})=>{const N=s.allColumns.find(ae=>ae.id===A);if(!N)return;const oe={...To,...s.filterTypes},fe=typeof N.filter=="function"?N.filter:oe[N.filter??"text"];b=b.filter(ae=>dr(ae,fe,A,q))});const z=[],f=[],W={},F=A=>{A.depth===0&&z.push(A),f.push(A),W[A.id]=A,A.subRows.length&&A.subRows.forEach(q=>F(q))};return b.forEach(A=>F(A)),{filteredRows:z,filteredFlatRows:f,filteredRowsById:W}},[s.allColumns,s.filterTypes,s.initialRows,s.state.filters,o]);Object.assign(s,{filteredRows:u,filteredFlatRows:g,filteredRowsById:v,rows:u,flatRows:g,rowsById:v})},dr=(o,s,c,u)=>{let g=!1;return o.subRows=o.initialSubRows.filter(d=>{const b=dr(d,s,c,u);return b&&(g=!0),b}),g?!0:!!s([o],[c],u).length},No=o=>{o.useInstance.push(Lo)},Lo=o=>{const s=h.useMemo(()=>{const c=[],u=(g,v)=>{let d=!1;g.subRows.forEach(b=>{u(b,v),(b.isSelected||b.isSomeSelected)&&(d=!0)}),v[g.id]?(g.isSelected=!0,g.isSomeSelected=!1,c.push(g)):(g.isSelected=!1,g.isSomeSelected=d)};return o.rows.forEach(g=>u(g,o.state.selectedRowIds)),c},[o.rows,o.state.selectedRowIds]);Object.assign(o,{selectedFlatRows:s})},fr=o=>s=>{s.getResizerProps=[Oo(o)],s.stateReducers.push(Mo),s.useInstanceBeforeDimensions.push(Vo)},_t=o=>o.type==="touchstart",Oo=o=>(s,{instance:c,header:u,nextHeader:g})=>{const{dispatch:v}=c,d=(b,z)=>{var ae,ge,Z;if(_t(b)&&b.touches&&b.touches.length>1)return;const f=_n(z).map(te=>[te.id,st(te)]),W=g?_n(g).map(te=>[te.id,st(te)]):[],F=_t(b)?Math.round(b.touches[0].clientX):b.clientX,A=te=>v({type:U.actions.columnResizing,clientX:te}),q=()=>v({type:U.actions.columnDoneResizing}),N={mouse:{moveEvent:"mousemove",moveHandler:te=>A(te.clientX),upEvent:"mouseup",upHandler:()=>{var te,se,Pe;(te=o.current)==null||te.removeEventListener("mousemove",N.mouse.moveHandler),(se=o.current)==null||se.removeEventListener("mouseup",N.mouse.upHandler),(Pe=o.current)==null||Pe.removeEventListener("mouseleave",N.mouse.upHandler),q()}},touch:{moveEvent:"touchmove",moveHandler:te=>{te.cancelable&&(te.preventDefault(),te.stopPropagation()),A(te.touches[0].clientX)},upEvent:"touchend",upHandler:()=>{var te,se;(te=o.current)==null||te.removeEventListener(N.touch.moveEvent,N.touch.moveHandler),(se=o.current)==null||se.removeEventListener(N.touch.upEvent,N.touch.moveHandler),q()}}},oe=_t(b)?N.touch:N.mouse,fe=Xo()?{passive:!1}:!1;(ae=o.current)==null||ae.addEventListener(oe.moveEvent,oe.moveHandler,fe),(ge=o.current)==null||ge.addEventListener(oe.upEvent,oe.upHandler,fe),_t(b)||(Z=o.current)==null||Z.addEventListener("mouseleave",N.mouse.upHandler,fe),v({type:U.actions.columnStartResizing,columnId:z.id,columnWidth:st(z),nextColumnWidth:st(g),headerIdWidths:f,nextHeaderIdWidths:W,clientX:F})};return[s,{onClick:b=>{b.stopPropagation()},onMouseDown:b=>{b.persist(),b.preventDefault(),b.stopPropagation(),d(b,u)},onTouchStart:b=>{b.persist(),b.preventDefault(),d(b,u)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};fr.pluginName="useResizeColumns";const Mo=(o,s,c,u)=>{if(s.type===U.actions.init)return{...o,columnResizing:{columnWidths:{}}};if(s.type===U.actions.resetResize)return{...o,columnResizing:{columnWidths:{}}};if(s.type===U.actions.columnStartResizing){const{clientX:g,columnId:v,columnWidth:d,nextColumnWidth:b,headerIdWidths:z,nextHeaderIdWidths:f}=s;return{...o,columnResizing:{...o.columnResizing,startX:g,columnWidth:d,nextColumnWidth:b,headerIdWidths:z,nextHeaderIdWidths:f,isResizingColumn:v}}}if(s.type===U.actions.columnResizing){const{clientX:g}=s,{startX:v=0,columnWidth:d=1,nextColumnWidth:b=1,headerIdWidths:z=[],nextHeaderIdWidths:f=[]}=o.columnResizing;if(!u)return o;const W=g-v,F=Dn(z,W/d),A=_o(F,u.flatHeaders)<u.tableWidth,q=(u==null?void 0:u.columnResizeMode)==="fit"||(u==null?void 0:u.columnResizeMode)==="expand"&&A?Dn(f,-W/b):{};return!Vn(F,u.flatHeaders)||!Vn(q,u.flatHeaders)||!Do({...F,...q},u)?o:(u==null||u.flatHeaders.forEach(N=>{N.width||(N.width=N.resizeWidth)}),{...o,columnResizing:{...o.columnResizing,columnWidths:{...o.columnResizing.columnWidths,...F,...q}}})}return s.type===U.actions.columnDoneResizing?{...o,columnResizing:{...o.columnResizing,startX:void 0,isResizingColumn:void 0}}:o},Dn=(o,s)=>{const c={};return o.forEach(([u,g])=>{c[u]=Math.max(g+g*s,0)}),c},Vn=(o,s)=>{if(Object.values(o).some(c=>c<=1))return!1;for(const[c,u]of Object.entries(o)){const g=s==null?void 0:s.find(b=>b.id===c);if(!g)continue;const v=g.minWidth||0,d=g.maxWidth||1/0;if(u<v||u>d)return!1}return!0},Do=(o,s)=>{if(s.columnResizeMode==="fit")return!0;let c=0;for(const u of s.flatHeaders)c+=o[u.id]?o[u.id]:st(u);return!(Math.round(c)<s.tableWidth)},Vo=o=>{const{flatHeaders:s,getHooks:c,state:{columnResizing:u},columnResizeMode:g}=o,v=U.useGetLatest(o);s.forEach((d,b)=>{var F;const z=u.columnWidths[d.id];d.width=z||d.width||d.originalWidth,d.isResizing=u.isResizingColumn===d.id;const f=d.disableResizing&&g==="fit"?jn(d,o):d,W=g==="expand"&&b===s.length-1?jn(d,o):jo(d,o);d.canResize=d.disableResizing!=null?!d.disableResizing:!0,g==="fit"?d.isResizerVisible=d.canResize&&!!W||f&&!!((F=o.flatHeaders[b+1])!=null&&F.canResize):d.isResizerVisible=d.canResize&&!!f,d.getResizerProps=U.makePropGetter(c().getResizerProps,{instance:v(),header:f,nextHeader:W})})},jn=(o,s)=>{var g;const c=(((g=o.parent)==null?void 0:g.columns)||s.flatHeaders).filter(({isVisible:v})=>v),u=c.findIndex(v=>v.id===o.id);return[...c].slice(0,u).reverse().find(v=>!v.disableResizing)},jo=(o,s)=>{var g;const c=(((g=o.parent)==null?void 0:g.columns)||s.flatHeaders).filter(({isVisible:v})=>v),u=c.findIndex(v=>v.id===o.id);return[...c].slice(u+1).find(v=>!v.disableResizing)};function _n(o){const s=[],c=u=>{u.columns&&u.columns.length&&u.columns.map(c),s.push(u)};return c(o),s}const st=o=>o?typeof o.width=="string"&&Number.isNaN(Number(o.width))?Number(o.resizeWidth||0):Number(o.width||o.resizeWidth||0):0,_o=(o,s)=>{let c=0;for(const u of s)c+=o[u.id]?o[u.id]:st(u);return c};let yt=null;const Xo=()=>{if(yt!=null)return yt;try{const o={once:!0,get passive(){return yt=!0,!1}};window.addEventListener("test",()=>{},o)}catch{yt=!1}return yt},$t={columnDragStart:"columnDragStart",columnDragEnd:"columnDragEnd"},$o=o=>s=>{s.getDragAndDropProps=[qo(o)],s.stateReducers.push(Ko),s.useInstance.push(Uo)},qo=o=>(s,{instance:c,header:u})=>{if(!o||u.disableReordering)return s;const g=()=>{c.dispatch({type:$t.columnDragStart,columnIndex:c.flatHeaders.indexOf(u)})},v=(W,F)=>{const A=W.currentTarget;A.classList.remove(jt["iui-table-reorder-column-right"]),A.classList.remove(jt["iui-table-reorder-column-left"]),F==="left"?A.classList.add(jt["iui-table-reorder-column-left"]):F==="right"&&A.classList.add(jt["iui-table-reorder-column-right"])},d=(W,F,A)=>{const q=[...W],[N]=q.splice(F,1);return q.splice(A,0,N),q};return[s,{draggable:!0,onDragStart:g,onDragOver:W=>{W.preventDefault();const F=c.flatHeaders.indexOf(u);c.state.columnReorderStartIndex!==F&&v(W,c.state.columnReorderStartIndex>F?"left":"right")},onDragLeave:W=>{v(W)},onDrop:W=>{W.preventDefault(),v(W);const F=c.allColumns.map(N=>N.id),A=c.state.columnReorderStartIndex,q=F.findIndex(N=>N===u.id);A===q||A===-1||q===-1||(c.setColumnOrder(d(F,A,q)),c.dispatch({type:$t.columnDragEnd,columnIndex:-1}))}}]},Ko=(o,s)=>{switch(s.type){case U.actions.init:return{...o,columnReorderStartIndex:-1};case $t.columnDragStart:return{...o,columnReorderStartIndex:s.columnIndex};case $t.columnDragEnd:return{...o,columnReorderStartIndex:-1};default:return o}},Uo=o=>{const{flatHeaders:s,getHooks:c}=o,u=U.useGetLatest(o);s.forEach(g=>{g.getDragAndDropProps=U.makePropGetter(c().getDragAndDropProps,{instance:u(),header:g})})};function Jo({data:o,enableVirtualization:s,page:c,paginatorRenderer:u,scrollToRow:g}){const v=h.useRef({}),d=h.useRef(c);d.current=c;const b=h.useRef(o);b.current=o;const z=h.useMemo(()=>{if(!g||u)return;const W=g(d.current,b.current);return W<0?void 0:W},[u,g]);h.useEffect(()=>{var W,F;s||z===void 0||z===null||z<0||(F=v.current[(W=d.current[z])==null?void 0:W.id])==null||F.scrollIntoView()},[s,z]);const f=h.useCallback(W=>F=>{v.current[W.id]=F},[]);return{scrollToIndex:z,tableRowRef:f}}U.actions.setScrolledLeft="setScrolledLeft";U.actions.setScrolledRight="setScrolledRight";const Yo=o=>{o.stateReducers.push(Zo),o.useInstance.push(Qo)},Zo=(o,s)=>{var c,u;return s.type===U.actions.init?{...o,sticky:{}}:s.type===U.actions.setScrolledLeft&&((c=o.sticky)==null?void 0:c.isScrolledToLeft)!==s.value?{...o,sticky:{...o.sticky,isScrolledToLeft:s.value}}:s.type===U.actions.setScrolledRight&&((u=o.sticky)==null?void 0:u.isScrolledToRight)!==s.value?{...o,sticky:{...o.sticky,isScrolledToRight:s.value}}:o},Qo=o=>{const{flatHeaders:s}=o;s.forEach(g=>{g.originalSticky||(g.originalSticky=g.sticky??"none"),g.sticky=g.originalSticky==="none"?void 0:g.originalSticky});let c=!1;[...s].reverse().forEach(g=>{g.sticky==="left"&&(c=!0),c&&(g.sticky="left")});let u=!1;s.forEach(g=>{g.sticky==="right"&&(u=!0),u&&(g.sticky="right")})},ei=(o,s,c)=>{if(!(s!=null&&s.preFilteredFlatRows.length)){c==null||c([],o);return}const u=[];s.preFilteredFlatRows.forEach(g=>{o.expanded[g.id]&&u.push(g.original)}),c==null||c(u,o)},ti=(o,s,c,u,g)=>{const v=c.filters.find(d=>d.id===s.columnId);return(v==null?void 0:v.value)!=s.filterValue?o.filters.map(b=>{const z=g==null?void 0:g.allColumns.find(f=>f.id===b.id);return{id:b.id,value:b.value,fieldType:(z==null?void 0:z.fieldType)??"text",filterType:(z==null?void 0:z.filter)??"text"}}):u},vn=(o,s,c,u)=>{if(!(s!=null&&s.rows.length)){c==null||c([],o);return}const g={},v=b=>{if(u!=null&&u(b.original))return!1;let z=!0;return b.initialSubRows.forEach(f=>{v(f)||(z=!1)}),(!s.selectSubRows&&o.selectedRowIds[b.id]||!b.initialSubRows.length&&o.selectedRowIds[b.id]||b.initialSubRows.length&&z)&&(g[b.id]=!0),!!g[b.id]};s.initialRows.forEach(b=>v(b));const d=ii(g,s);o.selectedRowIds=g,c==null||c(d,o)},ni=(o,s,c,u,g)=>{vn(o,c,u,g),o.lastSelectedRowId=s.id},ri=(o,s,c,u,g)=>{const v={[s.id]:!0};if(c!=null&&c.selectSubRows){const b=z=>{v[z.id]=!0,z.subRows.forEach(f=>b(f))};b(c.rowsById[s.id])}const d={...o,lastSelectedRowId:s.id,selectedRowIds:v};return vn(d,c,u,g),d},oi=(o,s,c,u,g)=>{if(c==null)return o;let v=Math.max(0,c.flatRows.findIndex(F=>F.id===o.lastSelectedRowId)),d=Math.max(0,c.flatRows.findIndex(F=>F.id===s.id));if(v>d){const F=v;v=d,d=F}const b=o.lastSelectedRowId==null||!!o.selectedRowIds[o.lastSelectedRowId],z=s.ctrlPressed?{...o.selectedRowIds}:{};c.flatRows.slice(v,d+1).forEach(F=>z[F.id]=b);const f=F=>{z[F.id]=b,F.subRows.forEach(A=>f(A))};f(c.flatRows[d]);const W={...o,selectedRowIds:z};return vn(W,c,u,g),W},ii=(o,s)=>{const c=[],u=g=>{o[g.id]&&c.push(g.original),g.initialSubRows.forEach(v=>u(v))};return s==null||s.initialRows.forEach(g=>u(g)),c},si=o=>({...o,isTableResizing:!0}),li=(o,s)=>({...o,isTableResizing:!1,columnResizing:{...o.columnResizing,columnWidths:{...s.columnWidths}}}),Xn="singleRowSelected",$n="shiftRowSelected",qn="tableResizeStart",Kn="tableResizeEnd",ui=po(),gr=o=>{const s=[];return o.forEach(c=>{s.push(c),"columns"in c&&s.push(...gr(c.columns))}),s},vi=o=>{const{data:s,columns:c,isLoading:u=!1,emptyTableContent:g,className:v,style:d,id:b,isSelectable:z=!1,onSelect:f,onRowClick:W,selectionMode:F="multi",isSortable:A=!1,onSort:q,stateReducer:N,onBottomReached:oe,onRowInViewport:fe,intersectionMargin:ae=300,subComponent:ge,onExpand:Z,onFilter:te,globalFilterValue:se,emptyFilteredTableContent:Pe,filterTypes:Se,expanderCell:Ge,isRowDisabled:re,rowProps:Ce,density:ze="default",selectSubRows:Kt=!0,getSubRows:Me,selectRowOnClick:Ee=!0,paginatorRenderer:De,pageSize:$e=25,isResizable:qe=!1,columnResizeMode:Ae="fit",styleType:lt="default",enableVirtualization:Ne=!1,enableColumnReordering:Ke=!1,headerWrapperProps:Ue,headerProps:Je,bodyProps:Ye,emptyTableContentProps:ye,...Ut}=o;Un();const Fe=h.useRef(),Jt=h.useMemo(()=>({maxWidth:0,minWidth:0,width:0}),[]),wt=h.useRef(oe),St=h.useRef(fe);h.useEffect(()=>{wt.current=oe,St.current=fe},[oe,fe]);const Ze=h.useMemo(()=>gr(c).some(X=>X.id===bt),[c]),ut=h.useCallback(I=>{I.key==="Shift"&&Fe.current&&(Fe.current.documentElement.style.userSelect="none")},[]),Qe=h.useCallback(I=>{I.key==="Shift"&&Fe.current&&(Fe.current.documentElement.style.userSelect="")},[]);h.useEffect(()=>{if(!z||F!=="multi")return;const I=Fe.current;return I==null||I.addEventListener("keydown",ut),I==null||I.addEventListener("keyup",Qe),()=>{I==null||I.removeEventListener("keydown",ut),I==null||I.removeEventListener("keyup",Qe)}},[z,F,Fe,ut,Qe]);const at=h.useRef([]),Ve=h.useRef(at.current),Yt=h.useCallback((I,X,_,pe)=>{switch(X.type){case U.actions.toggleSortBy:q==null||q(I);break;case U.actions.setFilter:Ve.current=ti(I,X,_,Ve.current,pe);break;case U.actions.toggleRowExpanded:case U.actions.toggleAllRowsExpanded:ei(I,pe,Z);break;case Xn:{I=ri(I,X,pe,f,Ze?void 0:re);break}case $n:{I=oi(I,X,pe,f,Ze?void 0:re);break}case U.actions.toggleRowSelected:case U.actions.toggleAllRowsSelected:case U.actions.toggleAllPageRowsSelected:{ni(I,X,pe,f,Ze?void 0:re);break}case qn:{I=si(I);break}case Kn:{I=li(I,X);break}}return N?N(I,X,_,pe):I},[Ze,re,Z,f,q,N]),Zt=h.useMemo(()=>({...Fo,...Se}),[Se]),et=h.useMemo(()=>s.some((I,X)=>Me?Me(I,X):I.subRows),[s,Me]),xe=U.useTable({manualPagination:!De,paginateExpandedRows:!1,...o,columns:c,defaultColumn:Jt,disableSortBy:!A,stateReducer:Yt,filterTypes:Zt,selectSubRows:Kt,data:s,getSubRows:Me,initialState:{pageSize:$e,...o.initialState},columnResizeMode:Ae},U.useFlexLayout,fr(Fe),U.useFilters,Go(et),U.useGlobalFilter,U.useSortBy,U.useExpanded,U.usePagination,U.useRowSelect,No,Wo(ge,Ge,re),Ho(z,F,re,ze),U.useColumnOrder,$o(Ke),Yo),{getTableProps:Qt,rows:tt,headerGroups:Ct,getTableBodyProps:en,prepareRow:Et,state:he,allColumns:xt,dispatch:Be,page:He,gotoPage:It,setPageSize:nt,flatHeaders:rt,visibleColumns:tn,setGlobalFilter:Bt}=xe;let ct=Ct;c.length===1&&"columns"in c[0]&&(ct=Ct.slice(1),ui("Table's `columns` prop should not have a top-level `Header` or sub-columns. They are only allowed to be passed for backwards compatibility.\n See https://github.com/iTwin/iTwinUI/wiki/iTwinUI-react-v2-migration-guide#breaking-changes"));const kt=Object.entries(Ut).reduce((I,[X,_])=>((X.startsWith("data-")||X.startsWith("aria-"))&&(I[X]=_),I),{}),ot=xt.some(I=>I.filterValue!=null&&I.filterValue!=="")||!!se,dt=I=>(s.length!==0||ot)&&I.canFilter&&!!I.Filter,je=I=>s.length!==0&&I.canSort,ft=h.useCallback((I,X)=>{const _=re==null?void 0:re(X.original),pe=I.ctrlKey||I.metaKey;_||W==null||W(I,X),z&&!_&&Ee&&!I.isDefaultPrevented()&&(F==="multi"&&I.shiftKey?Be({type:$n,id:X.id,ctrlPressed:pe}):!X.isSelected&&(F==="single"||!pe)?Be({type:Xn,id:X.id}):X.toggleRowSelected(!X.isSelected))},[re,z,Ee,F,Be,W]);h.useEffect(()=>{Bt(se)},[se,Bt]),h.useEffect(()=>{nt($e)},[$e,nt]),h.useEffect(()=>{at.current!==Ve.current&&(at.current=Ve.current,te==null||te(Ve.current,he,xe.filteredRows))},[he,xe.filteredRows,te]);const gt=h.useRef([]);h.useEffect(()=>{JSON.stringify(gt.current)!==JSON.stringify(c)&&xe.setColumnOrder([]),gt.current=c},[c,xe]);const zt=h.useMemo(()=>({currentPage:he.pageIndex,pageSize:he.pageSize,totalRowsCount:tt.length,size:ze!=="default"?"small":"default",isLoading:u,onPageChange:It,onPageSizeChange:nt,totalSelectedRowsCount:F==="single"?0:xe.selectedFlatRows.length}),[ze,It,u,tt.length,nt,he.pageIndex,he.pageSize,xe.selectedFlatRows,F]),We=h.useRef(null),be=h.useRef(null),{scrollToIndex:_e,tableRowRef:pt}=Jo({...o,page:He}),Xe=h.useRef({}),Pt=h.useRef(0),Ft=h.useCallback(({width:I})=>{var X,_;Ht(((X=We.current)==null?void 0:X.scrollWidth)??0),rn(((_=We.current)==null?void 0:_.clientWidth)??0),qe&&(xe.tableWidth=I,I!==Pt.current&&(Pt.current=I,rt.forEach(pe=>{Xe.current[pe.id]&&(pe.resizeWidth=Xe.current[pe.id].getBoundingClientRect().width)}),Object.keys(he.columnResizing.columnWidths).length!==0&&Be({type:qn})))},[Be,he.columnResizing.columnWidths,rt,xe,qe]),[nn]=co(Ft),[Wt,Ht]=h.useState(0),[Tt,rn]=h.useState(0);fo(()=>{if(he.isTableResizing){const I={};rt.forEach(X=>{Xe.current[X.id]&&(I[X.id]=Xe.current[X.id].getBoundingClientRect().width)}),Be({type:Kn,columnWidths:I})}});const mt=h.useCallback(I=>{const X=He[I];return Et(X),h.createElement(zo,{row:X,rowProps:Ce,isLast:I===He.length-1,onRowInViewport:St,onBottomReached:wt,intersectionMargin:ae,state:he,key:X.getRowProps().key,onClick:ft,subComponent:ge,isDisabled:!!(re!=null&&re(X.original)),tableHasSubRows:et,tableInstance:xe,expanderCell:Ge,bodyRef:be.current,tableRowRef:Ne?void 0:pt(X),density:ze})},[He,Et,Ce,ae,he,ft,ge,re,et,xe,Ge,Ne,pt,ze]),Gt=h.useCallback(I=>mt(I),[mt]),ht=()=>{!be.current||rt.every(I=>!I.sticky)||(be.current.scrollLeft!==0?Be({type:U.actions.setScrolledRight,value:!0}):Be({type:U.actions.setScrolledRight,value:!1}),be.current.scrollLeft!==be.current.scrollWidth-be.current.clientWidth?Be({type:U.actions.setScrolledLeft,value:!0}):Be({type:U.actions.setScrolledLeft,value:!1}))};h.useEffect(()=>{ht()},[]);const vt=h.useRef(!1);return h.createElement(h.Fragment,null,h.createElement(ie,{ref:I=>{Fe.current=I==null?void 0:I.ownerDocument,nn(I)},id:b,...Qt({className:Ie("iui-table",v),style:{minWidth:0,...d}}),"data-iui-size":ze==="default"?void 0:ze,...kt},ct.map(I=>{I.headers=I.headers.filter(_=>!_.id.includes("iui-table-checkbox-selector_placeholder")&&!_.id.includes("iui-table-expander_placeholder"));const X=I.getHeaderGroupProps({className:"iui-table-row"});return h.createElement(ie,{as:"div",ref:We,onScroll:()=>{We.current&&be.current&&(be.current.scrollLeft=We.current.scrollLeft,ht())},key:X.key,...Ue,className:Ie("iui-table-header-wrapper",Ue==null?void 0:Ue.className)},h.createElement(ie,{as:"div",...Je,className:Ie("iui-table-header",Je==null?void 0:Je.className)},h.createElement(ie,{...X},I.headers.map((_,pe)=>{const{onClick:it,...At}=_.getSortByToggleProps(),Rt=et&&pe===I.headers.findIndex(we=>we.id!==bt),Le=_.getHeaderProps({...At,className:Ie("iui-table-cell",{"iui-actionable":_.canSort,"iui-sorted":_.isSorted,"iui-table-cell-sticky":!!_.sticky},_.columnClassName),style:{...Zn(_,!!he.isTableResizing),...Rt&&er({density:ze}),...Qn(_,tn),flexWrap:"unset"}});return h.createElement(ie,{...Le,..._.getDragAndDropProps(),key:Le.key,title:void 0,ref:we=>{we&&(Xe.current[_.id]=we,_.resizeWidth=we.getBoundingClientRect().width)},onMouseDown:()=>{vt.current=!0},onClick:we=>{vt.current&&(it==null||it(we),vt.current=!1)},tabIndex:je(_)?0:void 0,onKeyDown:we=>{we.key=="Enter"&&je(_)&&_.toggleSortBy()}},_.render("Header"),(dt(_)||je(_))&&h.createElement(ie,{className:"iui-table-header-actions-container",onKeyDown:we=>we.stopPropagation()},dt(_)&&h.createElement(Po,{column:_}),je(_)&&h.createElement(ie,{className:"iui-table-cell-end-icon"},_.isSortedDesc||!_.isSorted&&_.sortDescFirst?h.createElement(bo,{className:"iui-table-sort","aria-hidden":!0}):h.createElement(yo,{className:"iui-table-sort","aria-hidden":!0}))),qe&&_.isResizerVisible&&(pe!==I.headers.length-1||Ae==="expand")&&h.createElement(ie,{..._.getResizerProps(),className:"iui-table-resizer"},h.createElement(ie,{className:"iui-table-resizer-bar"})),Ke&&!_.disableReordering&&h.createElement(ie,{className:"iui-table-reorder-bar"}),_.sticky==="left"&&he.sticky.isScrolledToRight&&h.createElement(ie,{className:"iui-table-cell-shadow-right"}),_.sticky==="right"&&he.sticky.isScrolledToLeft&&h.createElement(ie,{className:"iui-table-cell-shadow-left"}))}))))}),h.createElement(ie,{...Ye,...en({className:Ie("iui-table-body",{"iui-zebra-striping":lt==="zebra-rows"},Ye==null?void 0:Ye.className),style:{outline:0}}),ref:be,onScroll:()=>{We.current&&be.current&&(We.current.scrollLeft=be.current.scrollLeft,ht())},tabIndex:-1,"aria-multiselectable":z&&F==="multi"||void 0},h.createElement(go,null,h.createElement("slot",null),tt.length===0&&Wt>Tt&&h.createElement("div",{"aria-hidden":!0,style:{width:Wt,height:.1}})),s.length!==0&&h.createElement(h.Fragment,null,Ne?h.createElement(vo,{itemsLength:He.length,itemRenderer:Gt,scrollToIndex:_e}):He.map((I,X)=>mt(X))),u&&s.length===0&&h.createElement(ie,{as:"div",...ye,className:Ie("iui-table-empty",ye==null?void 0:ye.className)},h.createElement(On,{indeterminate:!0})),u&&s.length!==0&&h.createElement(ie,{className:"iui-table-row","data-iui-loading":"true"},h.createElement(ie,{className:"iui-table-cell"},h.createElement(On,{indeterminate:!0,size:"small"}))),!u&&s.length===0&&!ot&&h.createElement(ie,{as:"div",...ye,className:Ie("iui-table-empty",ye==null?void 0:ye.className)},h.createElement("div",null,g)),!u&&(s.length===0||tt.length===0)&&ot&&h.createElement(ie,{as:"div",...ye,className:Ie("iui-table-empty",ye==null?void 0:ye.className)},h.createElement("div",null,Pe))),De==null?void 0:De(zt)))};export{hn as D,tr as E,bt as S,vi as T,xo as a,Io as b,qn as t};
