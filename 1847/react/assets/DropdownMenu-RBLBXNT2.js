import{r as t,v as h,e as E,w,P as C,m as x,x as y}from"./index-7nKTUIFH.js";import{a as D}from"./MenuItem-k9f_sWLM.js";import{u as M}from"./Popover-WYBrke_R.js";const K=t.forwardRef((a,f)=>{const{menuItems:o,children:i,role:u="menu",visible:c,placement:m="bottom-start",matchWidth:p=!1,onVisibleChange:g,portal:d=!0,...v}=a,[b,s]=h(!1,c,g),l=t.useRef(null),n=t.useCallback(()=>{var e;s(!1),(e=l.current)==null||e.focus({preventScroll:!0})},[s]),R=t.useMemo(()=>typeof o=="function"?o(n):o,[o,n]),r=M({visible:b,onVisibleChange:e=>e?s(!0):n(),placement:m,matchWidth:p}),P=E(f,r.refs.setFloating);return t.createElement(t.Fragment,null,w(i,e=>({...r.getReferenceProps(e.props),"aria-expanded":r.open,ref:y(l,r.refs.setReference)})),r.open&&t.createElement(C,{portal:d},t.createElement(D,{...r.getFloatingProps({role:u,...v,onKeyDown:x(a.onKeyDown,e=>{e.defaultPrevented||e.key==="Tab"&&n()})}),ref:P},R)))});export{K as D};
