// Copyright (c) Bentley Systems, Incorporated. All rights reserved.
// See LICENSE.md in the project root for license terms and full copyright notice.
@import '../style/index';
@import '../icon/index';

@mixin iui-checkbox {
  @include iui-inputs-checkbox-radio;

  .iui-checkbox-checkmark {
    border-radius: $iui-border-radius;
  }

  &.iui-loading {
    cursor: wait;

    input ~ .iui-checkbox-checkmark {
      border-color: transparent;
      background-color: transparent;
    }

    input:disabled ~ .iui-checkbox-checkmark {
      cursor: wait;
    }

    input:disabled ~ .iui-label {
      cursor: wait;
    }
  }

  &-visibility {
    // Adds hover to everything that is not disabled
    &:hover > input:enabled ~ .iui-checkbox-checkmark {
      @include themed {
        background-color: rgba(t(iui-color-foreground-body-rgb), t(iui-opacity-6));
      }
    }

    input ~ .iui-checkbox-checkmark::after,
    &:hover > input:enabled ~ .iui-checkbox-checkmark::after {
      border: none;
    }

    input ~ .iui-checkbox-checkmark {
      background-color: transparent;
    }

    input:checked ~ .iui-checkbox-checkmark .iui-uncheck,
    input:indeterminate ~ .iui-checkbox-checkmark .iui-uncheck {
      opacity: 0;
    }

    input ~ .iui-checkbox-checkmark .iui-uncheck {
      opacity: 1;
      transition: opacity $iui-speed-fast ease;
      @include themed {
        fill: t(iui-icons-color-actionable);
      }
    }

    input:disabled ~ .iui-checkbox-checkmark .iui-uncheck {
      @include themed {
        fill: t(iui-icons-color-actionable-disabled);
      }
    }
  }

  &.iui-menu-item {
    width: auto;
    padding: 0 ($iui-component-padding-horizontal + 1px);
  }
}
