---
import Layout from './_layout.astro';
import Icon_ from '../components/Icon.astro';
---

<Layout title='Slider'>
  <script>
    import '@itwin/itwinui-icons-elements/sound-mute';
    import '@itwin/itwinui-icons-elements/sound-loud';
  </script>
  <style is:global>
    section[id^='demo'] {
      display: flex;
      gap: 38px;
      margin-block-end: 4rem;
    }
    #demo-default,
    #demo-range {
      flex-direction: column;
      width: auto;
    }

    .iui-tooltip {
      display: none;
    }
    .iui-slider .iui-slider-thumb:focus + .iui-tooltip,
    .iui-slider .iui-slider-thumb:hover + .iui-tooltip,
    .iui-slider .iui-slider-thumb.iui-active + .iui-tooltip {
      position: absolute;
      display: block;
      margin-block-start: calc(var(--iui-size-xl) * -1);
      transform: translateX(-50%);
    }
  </style>

  <h1>Slider</h1>
  <hr />
  <br />

  <h2>Horizontal</h2>
  <section id='demo-default'>
    <div class='iui-input-grid'>
      <div class='iui-input-label'>Volume</div>
      <div class='iui-slider-container' data-iui-orientation='horizontal'>
        <span class='iui-slider-min'>
          <Icon_ svg='sound-mute' />
        </span>
        <div class='iui-slider iui-progress-slider'>
          <div class='iui-slider-track'></div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Volume setting'
            aria-valuemin='0'
            aria-valuenow='50'
            aria-valuemax='100'
          >
          </div>
        </div>
        <span class='iui-slider-max'>
          <Icon_ svg='sound-loud' />
        </span>
      </div>
    </div>

    <div class='iui-input-grid'>
      <div class='iui-input-label'>Slider with ticks</div>
      <div class='iui-slider-container' data-iui-orientation='horizontal'>
        <span class='iui-slider-min'> 0</span>
        <div class='iui-slider-ticks' aria-hidden='true'>
          <span class='iui-slider-tick'>0</span>
          <span class='iui-slider-tick'>10</span>
          <span class='iui-slider-tick'>20</span>
          <span class='iui-slider-tick'>30</span>
          <span class='iui-slider-tick'>40</span>
          <span class='iui-slider-tick'>50</span>
          <span class='iui-slider-tick'>60</span>
          <span class='iui-slider-tick'>70</span>
          <span class='iui-slider-tick'>80</span>
          <span class='iui-slider-tick'>90</span>
          <span class='iui-slider-tick'>100</span>
        </div>
        <div class='iui-slider iui-progress-slider'>
          <div class='iui-slider-track'></div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Volume setting'
            aria-valuemin='0'
            aria-valuenow='50'
            aria-valuemax='100'
          >
          </div>
        </div>
        <span class='iui-slider-max'> 100</span>
      </div>
    </div>

    <div class='iui-input-grid'>
      <div class='iui-input-label' data-iui-disabled='true'>Disabled slider</div>
      <div class='iui-slider-container' data-iui-orientation='horizontal' data-iui-disabled='true'>
        <span class='iui-slider-min'> 0</span>
        <div class='iui-slider-ticks' aria-hidden='true'>
          <span class='iui-slider-tick'>0</span>
          <span class='iui-slider-tick'>10</span>
          <span class='iui-slider-tick'>20</span>
          <span class='iui-slider-tick'>30</span>
          <span class='iui-slider-tick'>40</span>
          <span class='iui-slider-tick'>50</span>
          <span class='iui-slider-tick'>60</span>
          <span class='iui-slider-tick'>70</span>
          <span class='iui-slider-tick'>80</span>
          <span class='iui-slider-tick'>90</span>
          <span class='iui-slider-tick'>100</span>
        </div>
        <div class='iui-slider iui-progress-slider'>
          <div class='iui-slider-track'></div>
          <div
            class='iui-slider-thumb'
            role='slider'
            aria-label='Volume setting'
            aria-valuemin='0'
            aria-valuenow='50'
            aria-valuemax='100'
            aria-disabled='true'
          >
          </div>
        </div>
        <span class='iui-slider-max'> 100</span>
      </div>
    </div>
  </section>

  <section id='demo-range'>
    <div class='iui-input-grid'>
      <div class='iui-input-label'>Price range</div>
      <div class='iui-slider-container' data-iui-orientation='horizontal'>
        <span class='iui-slider-min'>0</span>
        <div class='iui-slider iui-range-slider'>
          <div class='iui-slider-track' style='inset-inline-start: 20%; inset-inline-end: 20%;'>
          </div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Start value'
            aria-valuemin='0'
            aria-valuenow='20'
            aria-valuemax='79'
            data-range-max='100'
            style='--iui-slider-thumb-position: 20%;'
            id='test-slider-1'
          >
          </div>
          <output class='iui-tooltip' style='inset-inline-start: 20%;'> 20</output>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='End value'
            aria-valuemin='21'
            aria-valuenow='80'
            aria-valuemax='100'
            data-range-min='0'
            style='--iui-slider-thumb-position: 80%;'
            id='test-slider-2'
          >
          </div>
          <output class='iui-tooltip' style='inset-inline-start: 80%;'> 80</output>
        </div>
        <span class='iui-slider-max'>100</span>
      </div>
    </div>

    <div class='iui-input-grid'>
      <div class='iui-input-label'>Range with ticks</div>
      <div class='iui-slider-container' data-iui-orientation='horizontal'>
        <span class='iui-slider-min'>0</span>
        <div class='iui-slider-ticks' aria-hidden='true'>
          <span class='iui-slider-tick'>0</span>
          <span class='iui-slider-tick'>10</span>
          <span class='iui-slider-tick'>20</span>
          <span class='iui-slider-tick'>30</span>
          <span class='iui-slider-tick'>40</span>
          <span class='iui-slider-tick'>50</span>
          <span class='iui-slider-tick'>60</span>
          <span class='iui-slider-tick'>70</span>
          <span class='iui-slider-tick'>80</span>
          <span class='iui-slider-tick'>90</span>
          <span class='iui-slider-tick'>100</span>
        </div>
        <div class='iui-slider iui-range-slider'>
          <div class='iui-slider-track' style='inset-inline-start: 20%; inset-inline-end: 20%;'>
          </div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Start value'
            aria-valuemin='0'
            aria-valuenow='20'
            aria-valuemax='79'
            data-range-max='100'
            style='--iui-slider-thumb-position: 20%;'
          >
          </div>
          <output class='iui-tooltip' style='inset-inline-start: 20%;'> 20</output>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='End value'
            aria-valuemin='21'
            aria-valuenow='80'
            aria-valuemax='100'
            data-range-min='0'
            style='--iui-slider-thumb-position: 80%;'
          >
          </div>
          <output class='iui-tooltip' style='inset-inline-start: 80%;'> 80</output>
        </div>
        <span class='iui-slider-max'>100</span>
      </div>
    </div>

    <div class='iui-input-grid'>
      <div class='iui-input-label' data-iui-disabled='true'>Disabled range</div>
      <div class='iui-slider-container' data-iui-orientation='horizontal' data-iui-disabled='true'>
        <span class='iui-slider-min'>0</span>
        <div class='iui-slider-ticks' aria-hidden='true'>
          <span class='iui-slider-tick'>0</span>
          <span class='iui-slider-tick'>10</span>
          <span class='iui-slider-tick'>20</span>
          <span class='iui-slider-tick'>30</span>
          <span class='iui-slider-tick'>40</span>
          <span class='iui-slider-tick'>50</span>
          <span class='iui-slider-tick'>60</span>
          <span class='iui-slider-tick'>70</span>
          <span class='iui-slider-tick'>80</span>
          <span class='iui-slider-tick'>90</span>
          <span class='iui-slider-tick'>100</span>
        </div>
        <div class='iui-slider iui-range-slider'>
          <div class='iui-slider-track' style='inset-inline-start: 20%; inset-inline-end: 20%;'>
          </div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Start value'
            aria-valuemin='0'
            aria-valuenow='20'
            aria-valuemax='79'
            data-range-max='100'
            style='--iui-slider-thumb-position: 20%;'
            aria-disabled='true'
          >
          </div>
          <output class='iui-tooltip' style='inset-inline-start: 20%;'> 20</output>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='End value'
            aria-valuemin='21'
            aria-valuenow='80'
            aria-valuemax='100'
            data-range-min='0'
            style='--iui-slider-thumb-position: 80%;'
            aria-disabled='true'
          >
          </div>
          <output class='iui-tooltip' style='inset-inline-start: 80%;'> 80</output>
        </div>
        <span class='iui-slider-max'>100</span>
      </div>
    </div>
  </section>

  <h2>Vertical</h2>
  <section id='demo-default-vertical'>
    <div class='iui-input-grid'>
      <div class='iui-input-label'>Volume</div>
      <div class='iui-slider-container' data-iui-orientation='vertical' style='height: 500px;'>
        <span class='iui-slider-min'>
          <Icon_ svg='sound-mute' />
        </span>
        <div class='iui-slider iui-progress-slider'>
          <div class='iui-slider-track'></div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Volume setting'
            aria-valuemin='0'
            aria-valuenow='50'
            aria-valuemax='100'
          >
          </div>
        </div>
        <span class='iui-slider-max'>
          <Icon_ svg='sound-loud' />
        </span>
      </div>
    </div>

    <div class='iui-input-grid'>
      <div class='iui-input-label'>Slider with ticks</div>
      <div class='iui-slider-container' data-iui-orientation='vertical' style='height: 500px;'>
        <span class='iui-slider-min'> 0</span>
        <div class='iui-slider-ticks' aria-hidden='true'>
          <span class='iui-slider-tick'>0</span>
          <span class='iui-slider-tick'>10</span>
          <span class='iui-slider-tick'>20</span>
          <span class='iui-slider-tick'>30</span>
          <span class='iui-slider-tick'>40</span>
          <span class='iui-slider-tick'>50</span>
          <span class='iui-slider-tick'>60</span>
          <span class='iui-slider-tick'>70</span>
          <span class='iui-slider-tick'>80</span>
          <span class='iui-slider-tick'>90</span>
          <span class='iui-slider-tick'>100</span>
        </div>
        <div class='iui-slider iui-progress-slider'>
          <div class='iui-slider-track'></div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Volume setting'
            aria-valuemin='0'
            aria-valuenow='50'
            aria-valuemax='100'
          >
          </div>
        </div>
        <span class='iui-slider-max'> 100</span>
      </div>
    </div>

    <div class='iui-input-grid'>
      <div class='iui-input-label' data-iui-disabled='true'>Disabled slider</div>
      <div
        class='iui-slider-container'
        data-iui-orientation='vertical'
        data-iui-disabled='true'
        style='height: 500px;'
      >
        <span class='iui-slider-min'> 0</span>
        <div class='iui-slider-ticks' aria-hidden='true'>
          <span class='iui-slider-tick'>0</span>
          <span class='iui-slider-tick'>10</span>
          <span class='iui-slider-tick'>20</span>
          <span class='iui-slider-tick'>30</span>
          <span class='iui-slider-tick'>40</span>
          <span class='iui-slider-tick'>50</span>
          <span class='iui-slider-tick'>60</span>
          <span class='iui-slider-tick'>70</span>
          <span class='iui-slider-tick'>80</span>
          <span class='iui-slider-tick'>90</span>
          <span class='iui-slider-tick'>100</span>
        </div>
        <div class='iui-slider iui-progress-slider'>
          <div class='iui-slider-track'></div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Volume setting'
            aria-valuemin='0'
            aria-valuenow='50'
            aria-valuemax='100'
            aria-disabled='true'
          >
          </div>
        </div>
        <span class='iui-slider-max'> 100</span>
      </div>
    </div>
  </section>

  <section id='demo-range-vertical'>
    <div class='iui-input-grid'>
      <div class='iui-input-label'>Price range</div>
      <div class='iui-slider-container' data-iui-orientation='vertical' style='height: 500px;'>
        <span class='iui-slider-min'> 0</span>
        <div class='iui-slider iui-range-slider'>
          <div class='iui-slider-track' style='inset-block-end: 20%; inset-block-start: 20%;'></div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Start value'
            aria-orientation='vertical'
            aria-valuemin='0'
            aria-valuenow='20'
            aria-valuemax='79'
            data-range-max='100'
            style='--iui-slider-thumb-position: 20%;'
          >
          </div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='End value'
            aria-orientation='vertical'
            aria-valuemin='21'
            aria-valuenow='80'
            aria-valuemax='100'
            data-range-min='0'
            style='--iui-slider-thumb-position: 80%;'
          >
          </div>
        </div>
        <span class='iui-slider-max'> 100</span>
      </div>
    </div>

    <div class='iui-input-grid'>
      <div class='iui-input-label'>Range with ticks</div>
      <div class='iui-slider-container' data-iui-orientation='vertical' style='height: 500px;'>
        <span class='iui-slider-min'> 0</span>
        <div class='iui-slider-ticks' aria-hidden='true'>
          <span class='iui-slider-tick'>0</span>
          <span class='iui-slider-tick'>10</span>
          <span class='iui-slider-tick'>20</span>
          <span class='iui-slider-tick'>30</span>
          <span class='iui-slider-tick'>40</span>
          <span class='iui-slider-tick'>50</span>
          <span class='iui-slider-tick'>60</span>
          <span class='iui-slider-tick'>70</span>
          <span class='iui-slider-tick'>80</span>
          <span class='iui-slider-tick'>90</span>
          <span class='iui-slider-tick'>100</span>
        </div>
        <div class='iui-slider iui-range-slider'>
          <div class='iui-slider-track' style='inset-block-end: 20%; inset-block-start: 20%;'></div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Start value'
            aria-orientation='vertical'
            aria-valuemin='0'
            aria-valuenow='20'
            aria-valuemax='79'
            data-range-max='100'
            style='--iui-slider-thumb-position: 20%;'
          >
          </div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='End value'
            aria-orientation='vertical'
            aria-valuemin='21'
            aria-valuenow='80'
            aria-valuemax='100'
            data-range-min='0'
            style='--iui-slider-thumb-position: 80%;'
          >
          </div>
        </div>
        <span class='iui-slider-max'> 100</span>
      </div>
    </div>

    <div class='iui-input-grid'>
      <div class='iui-input-label' data-iui-disabled='true'>Disabled range</div>
      <div
        class='iui-slider-container'
        data-iui-orientation='vertical'
        data-iui-disabled='true'
        style='height: 500px;'
      >
        <span class='iui-slider-min'> 0</span>
        <div class='iui-slider-ticks' aria-hidden='true'>
          <span class='iui-slider-tick'>0</span>
          <span class='iui-slider-tick'>10</span>
          <span class='iui-slider-tick'>20</span>
          <span class='iui-slider-tick'>30</span>
          <span class='iui-slider-tick'>40</span>
          <span class='iui-slider-tick'>50</span>
          <span class='iui-slider-tick'>60</span>
          <span class='iui-slider-tick'>70</span>
          <span class='iui-slider-tick'>80</span>
          <span class='iui-slider-tick'>90</span>
          <span class='iui-slider-tick'>100</span>
        </div>
        <div class='iui-slider iui-range-slider'>
          <div class='iui-slider-track' style='inset-block-end: 20%; inset-block-start: 20%;'></div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='Start value'
            aria-orientation='vertical'
            aria-valuemin='0'
            aria-valuenow='20'
            aria-valuemax='79'
            data-range-max='100'
            style='--iui-slider-thumb-position: 20%;'
            aria-disabled='true'
          >
          </div>
          <div
            class='iui-slider-thumb'
            role='slider'
            tabindex='0'
            aria-label='End value'
            aria-orientation='vertical'
            aria-valuemin='21'
            aria-valuenow='80'
            aria-valuemax='100'
            data-range-min='0'
            style='--iui-slider-thumb-position: 80%;'
            aria-disabled='true'
          >
          </div>
        </div>
        <span class='iui-slider-max'> 100</span>
      </div>
    </div>
  </section>

  <script is:inline>
    function setTooltip(percent, tooltip, sliderContainer) {
      if (getIsVerticalSlider(sliderContainer)) {
        if (tooltip) {
          tooltip.style.bottom = `${percent}%`;
          tooltip.innerHTML = `${percent}`;
        }
      } else {
        if (tooltip) {
          tooltip.style.left = `${percent}%`;
          tooltip.innerHTML = `${percent}`;
        }
      }
    }

    function setThumbAndTrack(percent, thumb, otherThumb, progress, sliderContainer, mode) {
      thumb.style = `--iui-slider-thumb-position: ${percent}%`;
      if (getIsVerticalSlider(sliderContainer)) {
        if (mode === 'progress') {
          var progressPercent = 100 - percent;
          progress.style = `--iui-slider-track-position: ${progressPercent}% 0`;
          console.log(`${percent}%`);
        } else if (mode === 'range-left') {
          otherThumb && otherThumb.setAttribute('aria-valuemin', percent + 1);
          progress.style = `--iui-slider-track-position: ${
            100 - otherThumb.getAttribute('aria-valuenow')
          }% ${percent}%`;
          console.log(`${percent}% - ${otherThumb.getAttribute('aria-valuenow')}%`);
        } else if (mode === 'range-right') {
          otherThumb && otherThumb.setAttribute('aria-valuemax', percent - 1);
          var progressPercent = 100 - percent;
          progress.style = `--iui-slider-track-position: ${progressPercent}% ${otherThumb.getAttribute(
            'aria-valuenow',
          )}%`;
          console.log(`${otherThumb.getAttribute('aria-valuenow')}% - ${percent}%`);
        }
      } else {
        if (mode === 'progress') {
          var progressPercent = 100 - percent;
          progress.style = `--iui-slider-track-position: 0 ${progressPercent}%`;
        } else if (mode === 'range-left') {
          otherThumb && otherThumb.setAttribute('aria-valuemin', percent + 1);
          progress.style = `--iui-slider-track-position: ${percent}% ${
            100 - otherThumb.getAttribute('aria-valuenow')
          }%`;
        } else if (mode === 'range-right') {
          otherThumb && otherThumb.setAttribute('aria-valuemax', percent - 1);
          var progressPercent = 100 - percent;
          progress.style = `--iui-slider-track-position: ${otherThumb.getAttribute(
            'aria-valuenow',
          )}% ${progressPercent}%`;
        }
      }
    }

    function getMinValueFromThumb(thumb) {
      const minAtt = thumb.getAttribute('aria-valuemin');
      const dataRangeMinAtt = thumb.getAttribute('data-range-min');
      const min = parseInt(null !== dataRangeMinAtt ? dataRangeMinAtt : minAtt);
      return min;
    }

    function getMaxValueFromThumb(thumb) {
      const maxAtt = thumb.getAttribute('aria-valuemax');
      const dataRangeMaxAtt = thumb.getAttribute('data-range-max');
      const max = parseInt(null !== dataRangeMaxAtt ? dataRangeMaxAtt : maxAtt);
      return max;
    }

    function getMaxLimitValueFromThumb(thumb) {
      var maxAtt = thumb.getAttribute('aria-valuemax');
      var max = parseInt(maxAtt);
      return max;
    }

    function getMinLimitValueFromThumb(thumb) {
      var minAtt = thumb.getAttribute('aria-valuemin');
      var min = parseInt(minAtt);
      return min;
    }

    function getPercentFromThumb(thumb) {
      var valueAtt = thumb.getAttribute('aria-valuenow');
      var value = parseInt(valueAtt);
      var min = getMinValueFromThumb(thumb);
      var max = getMaxValueFromThumb(thumb);
      var percent = ((value - min) / (max - min)) * 100;
      return percent;
    }

    function moveSlider(event, thumb, progress, mode, toolTip, otherThumb, sliderContainer) {
      var min = getMinValueFromThumb(thumb);
      var limitMin = getMinLimitValueFromThumb(thumb);
      var max = getMaxValueFromThumb(thumb);
      var limitMax = getMaxLimitValueFromThumb(thumb);
      var rect = sliderContainer.getBoundingClientRect();
      var diff;
      var trackLength;
      if (getIsVerticalSlider(sliderContainer)) {
        trackLength = rect.height;
        diff = -(event.pageY - (rect.bottom + window.scrollY));
        if (diff > rect.height) diff = rect.height;
        if (diff < 0) diff = 0;
      } else {
        trackLength = rect.width;
        diff = event.pageX - rect.left;
        if (diff > rect.width) diff = rect.width;
        if (diff < 0) diff = 0;
      }

      var percent = parseInt(((max - min) * diff) / trackLength);
      if (percent < limitMin) percent = limitMin;
      if (percent > limitMax) percent = limitMax;

      thumb.setAttribute('aria-valuenow', percent);
      setTooltip(percent, toolTip, sliderContainer);
      setThumbAndTrack(percent, thumb, otherThumb, progress, sliderContainer, mode);

      event.preventDefault();
      event.stopPropagation();
    }

    function getOtherRangeThumb(thumb) {
      var parent = thumb.parentNode;
      const allThumbs = parent.querySelectorAll('.iui-slider-thumb');
      for (var i = 0; i < allThumbs.length; i++) {
        if (allThumbs[i] !== thumb) return allThumbs[i];
      }
    }

    function getToolTip(thumb, mode) {
      const parent = thumb.parentNode;
      const tooltips = parent.querySelectorAll('.iui-tooltip');
      if (mode === 'range-left') return tooltips[0];
      else if (mode === 'range-right') return tooltips[1];

      return tooltips[0];
    }

    function getIsVerticalSlider(sliderContainer) {
      return sliderContainer.parentNode.getAttribute('data-iui-orientation') === 'vertical';
    }

    function initializeThumbProcessing(thumb, sliderContainer, mode) {
      const percent = getPercentFromThumb(thumb);
      let progress = sliderContainer.querySelector('.iui-slider-track');
      let otherThumb = getOtherRangeThumb(thumb);
      const toolTip = getToolTip(thumb, mode);

      setTooltip(percent, toolTip, sliderContainer);
      setThumbAndTrack(percent, thumb, otherThumb, progress, sliderContainer, mode);

      thumb.addEventListener('mousedown', function () {
        if (sliderContainer.parentElement.classList.contains('iui-disabled')) return;
        thumb.classList.add('iui-active');
        sliderContainer.classList.add('iui-grabbing');
        var ownerDoc = thumb.ownerDocument;
        var handleMouseMove = function (event) {
          moveSlider(event, thumb, progress, mode, toolTip, otherThumb, sliderContainer);
        };

        var handleMouseUp = function (event) {
          ownerDoc.removeEventListener('mousemove', handleMouseMove);
          ownerDoc.removeEventListener('mouseup', handleMouseUp);
          thumb.classList.remove('iui-active');
          sliderContainer.classList.remove('iui-grabbing');
        };

        // bind a mousemove event handler to move pointer
        ownerDoc.addEventListener('mousemove', handleMouseMove);

        // bind a mouseup event handler to stop tracking mouse movements
        ownerDoc.addEventListener('mouseup', handleMouseUp);

        event.preventDefault();
        event.stopPropagation();
      });
    }

    function initializeAllProgressSliders() {
      const allProgressSliderContainers = document.querySelectorAll(
        '.iui-slider.iui-progress-slider',
      );
      allProgressSliderContainers.forEach((progressSliderContainer) => {
        const thumb = progressSliderContainer.querySelector('.iui-slider-thumb');
        initializeThumbProcessing(thumb, progressSliderContainer, 'progress');
      });
    }

    function initializeAllRangeSliders() {
      const allRangeSliderContainers = document.querySelectorAll('.iui-slider.iui-range-slider');
      allRangeSliderContainers.forEach((rangeSliderContainer) => {
        const thumbs = rangeSliderContainer.querySelectorAll('.iui-slider-thumb');

        const leftThumb = thumbs[0];
        if (leftThumb) {
          initializeThumbProcessing(leftThumb, rangeSliderContainer, 'range-left');
        }

        const rightThumb = thumbs[1];
        if (rightThumb) {
          initializeThumbProcessing(rightThumb, rangeSliderContainer, 'range-right');
        }
      });
    }

    initializeAllProgressSliders();
    initializeAllRangeSliders();
  </script>
</Layout>
