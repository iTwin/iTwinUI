---
import Layout from './_layout.astro';
import IconButton_ from '../components/IconButton.astro';
---

<Layout title='ColorPicker'>
  <script>
    import '@itwin/itwinui-icons-elements/add-circular';
    import '@itwin/itwinui-icons-elements/swap';
  </script>

  <h1>Color Picker</h1>
  <hr />

  <h2>Basic</h2>
  <section id='demo-basic'>
    <div class='iui-color-picker iui-popover iui-popover-surface'>
      <div class='iui-color-palette-wrapper'>
        <div class='iui-color-palette'>
          <span class='iui-color-swatch' tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsla(0, 100%, 40%, .5);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 99%, 5%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 13%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 99%, 20%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(203, 100%, 28%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 36%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 44%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 59%);'
            class='iui-color-swatch'
            tabindex='0'></span>

          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 67%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 74%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 99%, 82%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 90%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(200, 85%, 94%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(90, 100%, 0%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 70%, 8%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 72%, 15%);'
            class='iui-color-swatch'
            tabindex='0'></span>

          <span
            style='--iui-color-swatch-background: hsl(95, 71%, 23%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 72%, 30%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 71%, 38%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 71%, 42%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 71%, 46%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 72%, 61%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 71%, 73%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(94, 71%, 84%);'
            class='iui-color-swatch'
            tabindex='0'
            id='test-color-swatch'></span>

          <span
            style='--iui-color-swatch-background: hsl(94, 43%, 93%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(209, 11%, 64%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(0, 100%, 40%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(23, 100%, 50%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(42, 99%, 60%);'
            class='iui-color-swatch iui-active'
            tabindex='0'></span>
        </div>
      </div>
    </div>
  </section>

  <br />

  <h2>Advanced</h2>
  <section id='demo-advanced'>
    <!-- RGBA -->
    <div
      class='iui-color-picker iui-popover iui-popover-surface'
      id='demo-advanced-interactions'
      style='--iui-color-picker-selected-color: rgb(255, 195, 53);'
    >
      <div class='iui-color-selection-wrapper'>
        <div class='iui-color-field' style='--iui-color-field-hue: #FFC335;'>
          <div
            class='iui-color-dot'
            style='--iui-color-dot-inset-block: 2% auto; --iui-color-dot-inset-inline: 79.2157% auto;'
            tabindex='0'
            id='test-color-dot'
          >
          </div>
        </div>

        <div
          class='iui-slider-container iui-hue-slider'
          data-iui-orientation='horizontal'
          style='--iui-slider-thumb-position: 16%;'
        >
          <div class='iui-slider iui-progress-slider'>
            <div
              class='iui-slider-thumb'
              role='slider'
              tabindex='0'
              aria-label='Hue'
              aria-valuemin='0'
              aria-valuenow='42'
              aria-valuemax='359'
            >
            </div>
          </div>
        </div>

        <div
          class='iui-slider-container iui-opacity-slider'
          data-iui-orientation='horizontal'
          style='--iui-slider-thumb-position: 100%;'
        >
          <div class='iui-slider iui-progress-slider'>
            <div
              class='iui-slider-thumb'
              role='slider'
              tabindex='0'
              aria-label='Opacity'
              aria-valuemin='0'
              aria-valuenow='100'
              aria-valuemax='100'
            >
            </div>
          </div>
        </div>
      </div>

      <div class='iui-color-input-wrapper'>
        <div class='iui-color-picker-section-label'>RGBA</div>
        <div class='iui-color-input'>
          <IconButton_ variant='borderless' size='small'>
            <svg-swap></svg-swap>
          </IconButton_>
          <div class='iui-color-input-fields'>
            <div class='iui-input-grid'>
              <input
                type='number'
                min='0'
                max='255'
                value='255'
                class='iui-input iui-field'
                data-iui-size='small'
              />
            </div>
            <div class='iui-input-grid'>
              <input
                type='number'
                min='0'
                max='255'
                value='195'
                class='iui-input iui-field'
                data-iui-size='small'
              />
            </div>
            <div class='iui-input-grid'>
              <input
                type='number'
                min='0'
                max='255'
                value='53'
                class='iui-input iui-field'
                data-iui-size='small'
              />
            </div>
            <div class='iui-input-grid'>
              <input
                type='number'
                min='0'
                max='1'
                step='0.01'
                value='1.0'
                class='iui-input iui-field'
                data-iui-size='small'
              />
            </div>
          </div>
        </div>
      </div>

      <div class='iui-color-palette-wrapper'>
        <div class='iui-color-picker-section-label'>Saved colors</div>
        <div class='iui-color-palette'>
          <IconButton_ variant='borderless' size='small'>
            <svg-add-circular></svg-add-circular>
          </IconButton_>
          <span
            style='--iui-color-swatch-background: hsl(0, 100%, 40%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(23, 100%, 50%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(42, 99%, 60%);'
            class='iui-color-swatch iui-active'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 71%, 42%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 59%);'
            class='iui-color-swatch'
            tabindex='0'></span>
        </div>
      </div>
    </div>

    <br /><br />

    <!-- HSLA -->
    <div
      class='iui-color-picker iui-popover iui-popover-surface'
      style='--iui-color-picker-selected-color: rgb(255, 195, 53);'
    >
      <div class='iui-color-selection-wrapper'>
        <div class='iui-color-field' style='--iui-color-field-hue: #FFC335;'>
          <div
            class='iui-color-dot'
            style='--iui-color-dot-inset-block: 2% auto; --iui-color-dot-inset-inline: 79.2157% auto;'
            tabindex='0'
          >
          </div>
        </div>

        <div
          class='iui-slider-container iui-hue-slider'
          data-iui-orientation='horizontal'
          style='--iui-slider-thumb-position: 16%;'
        >
          <div class='iui-slider iui-progress-slider'>
            <div
              class='iui-slider-thumb'
              role='slider'
              tabindex='0'
              aria-label='Hue'
              aria-valuemin='0'
              aria-valuenow='42'
              aria-valuemax='359'
            >
            </div>
          </div>
        </div>

        <div
          class='iui-slider-container iui-opacity-slider'
          data-iui-orientation='horizontal'
          style='--iui-slider-thumb-position: 100%;'
        >
          <div class='iui-slider iui-progress-slider'>
            <div
              class='iui-slider-thumb'
              role='slider'
              tabindex='0'
              aria-label='Opacity'
              aria-valuemin='0'
              aria-valuenow='100'
              aria-valuemax='100'
            >
            </div>
          </div>
        </div>
      </div>

      <div class='iui-color-input-wrapper'>
        <div class='iui-color-picker-section-label'>HSLA</div>
        <div class='iui-color-input'>
          <IconButton_ variant='borderless' size='small'>
            <svg-swap></svg-swap>
          </IconButton_>
          <div class='iui-color-input-fields'>
            <div class='iui-input-grid'>
              <input
                type='number'
                min='0'
                max='255'
                value='42'
                class='iui-input iui-field'
                data-iui-size='small'
              />
            </div>
            <div class='iui-input-grid'>
              <input
                type='number'
                min='0'
                max='100'
                value='100'
                class='iui-input iui-field'
                data-iui-size='small'
              />
            </div>
            <div class='iui-input-grid'>
              <input
                type='number'
                min='0'
                max='100'
                value='60'
                class='iui-input iui-field'
                data-iui-size='small'
              />
            </div>
            <div class='iui-input-grid'>
              <input
                type='number'
                min='0'
                max='1'
                step='0.01'
                value='1.0'
                class='iui-input iui-field'
                data-iui-size='small'
              />
            </div>
          </div>
        </div>
      </div>

      <div class='iui-color-palette-wrapper'>
        <div class='iui-color-picker-section-label'>Saved colors</div>
        <div class='iui-color-palette'>
          <IconButton_ variant='borderless' size='small'>
            <svg-add-circular></svg-add-circular>
          </IconButton_>
          <span
            style='--iui-color-swatch-background: hsl(0, 100%, 40%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(23, 100%, 50%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(42, 99%, 60%);'
            class='iui-color-swatch iui-active'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 71%, 42%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 59%);'
            class='iui-color-swatch'
            tabindex='0'></span>
        </div>
      </div>
    </div>

    <br /><br />

    <!-- HEX -->
    <div
      class='iui-color-picker iui-popover iui-popover-surface'
      style='--iui-color-picker-selected-color: rgb(255, 195, 53);'
    >
      <div class='iui-color-selection-wrapper'>
        <div class='iui-color-field' style='--iui-color-field-hue: #FFC335;'>
          <div
            class='iui-color-dot'
            style='--iui-color-dot-inset-block: 2% auto; --iui-color-dot-inset-inline: 79.2157% auto;'
            tabindex='0'
          >
          </div>
        </div>

        <div
          class='iui-slider-container iui-hue-slider'
          data-iui-orientation='horizontal'
          style='--iui-slider-thumb-position: 16%;'
        >
          <div class='iui-slider iui-progress-slider'>
            <div
              class='iui-slider-thumb'
              role='slider'
              tabindex='0'
              aria-label='Hue'
              aria-valuemin='0'
              aria-valuenow='42'
              aria-valuemax='359'
            >
            </div>
          </div>
        </div>
      </div>

      <div class='iui-color-input-wrapper'>
        <div class='iui-color-picker-section-label'>HEX</div>
        <div class='iui-color-input'>
          <IconButton_ variant='borderless' size='small'>
            <svg-swap></svg-swap>
          </IconButton_>
          <div class='iui-color-input-fields'>
            <div class='iui-input-grid'>
              <input
                value='#ffc335'
                maxlength='7'
                class='iui-input iui-field'
                data-iui-size='small'
              />
            </div>
          </div>
        </div>
      </div>

      <div class='iui-color-palette-wrapper'>
        <div class='iui-color-picker-section-label'>Saved colors</div>
        <div class='iui-color-palette'>
          <IconButton_ variant='borderless' size='small'>
            <svg-add-circular></svg-add-circular>
          </IconButton_>
          <span
            style='--iui-color-swatch-background: hsl(0, 100%, 40%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(23, 100%, 50%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(42, 99%, 60%);'
            class='iui-color-swatch iui-active'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(95, 71%, 42%);'
            class='iui-color-swatch'
            tabindex='0'></span>
          <span
            style='--iui-color-swatch-background: hsl(202, 100%, 59%);'
            class='iui-color-swatch'
            tabindex='0'></span>
        </div>
      </div>
    </div>
  </section>

  <script is:inline>
    // Clicking on color should toggle active
    document.querySelectorAll('.iui-color-picker').forEach((colorPicker) => {
      //Foreach color picker, go through its colors
      colorPicker.querySelectorAll('.iui-color-swatch').forEach((item) => {
        item.addEventListener('click', () => {
          //Remove the current active color
          colorPicker.querySelectorAll('.iui-color-swatch').forEach((activeItem) => {
            if (activeItem.classList.contains('iui-active'))
              activeItem.classList.toggle('iui-active');
          });
          item.classList.toggle('iui-active');
        });
      });
    });
  </script>
</Layout>
